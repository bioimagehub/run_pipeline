<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=" "> <title>General Analysis | NIS-Elements</title> <link rel="stylesheet" type="text/css" href="../css/syntax.css"> <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css"> <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"> <link rel="stylesheet" type="text/css" href="../css/modern-business.css"> <link rel="stylesheet" type="text/css" href="../css/customstyles.css"> <link rel="stylesheet" type="text/css" href="../css/boxshadowproperties.css"> <link rel="stylesheet" type="text/css" href="../css/ekko-lightbox.min.css"> <link rel="stylesheet" type="text/css" href="../css/ne.css"> <script src="../js/jquery.min.js"></script> <script src="../js/jquery.cookie.min.js"></script> <script src="../js/jquery.navgoco.min.js"></script> <script src="../js/bootstrap.min.js"></script> <script src="../js/ekko-lightbox.min.js"></script> <script src="../js/lightbox.js"></script> <script src="../js/lim_help.js"></script> <script src="../js/jscopy.js"></script> <link rel="shortcut icon" href="../images/favicon_ne.ico""> <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml"> </head> <body> <!-- find project homepage --> <!-- Navigation --> <nav class="navbar navbar-inverse navbar-static-top"> <div class="container-fluid topnavlinks"> <ul class="nav navbar-nav navbar-left"> <!-- separate search window: --> <!--<li><a onclick='window.open("SearchWindow.html","Search","toolbar=0,location=0,directories=0,status=0,menubar=0,top=100,left=100,height=800,width=600");'><img src="images/zoomimage.svg" class="icon"/></a></li>--> <!-- embedded iframe search window: --> <li class="pull-right"> <a href="search.html?frompage=analysis.general.html" id="searchButton" class="searchButton btn btn-primary" title="Search"> <img src="../images/zoomimage.svg" class="icon"/> </a> <div class="searchButtonWrapper"> </div> </li> <li> <a class="fa fa-lg navbar-brand" href="man.html" alt="NIS-Elements"> <img src="../images/logo_ne.svg"/> </a> </li> <!-- entries without drop-downs appear here --> <li><a href="man.html">User Manual</a></li> <li><a href="cr.html">Menu Commands</a></li> <li class="dropdown active"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Applications<b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="gpa.html">GPA</a></li> <li><a href="nis.ai.html">NIS.ai</a></li> <li><a href="measurement.3d.html">3D Measurement</a></li> <li><a href="analysis.modules.html">Bio Analysis Modules</a></li> <li><a href="app.concrete.html">Concrete</a></li> <li><a href="database.html">Database</a></li> <li><a href="app.deconvolution.html">Deconvolution</a></li> <li><a href="app.edf.html">Extended Depth of Focus</a></li> <li><a href="app.filters.html">Filter Particle Analysis</a></li> <li><a href="app.fret.html">FRET</a></li> <li><a href="app.ga3.html">General Analysis 3 </a></li> <li><a href="ug.hcajobs.html">HCA</a></li> <li><a href="app.hdr.html">HDR</a></li> <li><a href="GS_HowTo.IlluminationSequence.html">Illumination Sequence</a></li> <li><a href="ug.jobs.html">JOBS and HCA</a></li> <li><a href="app.layers.html">Layer Thickness Measurement</a></li> <li><a href="app.sequencer.html">Measurement Sequencer</a></li> <li><a href="app.metalo.castiron.html">Metalo - Cast Iron Analysis</a></li> <li><a href="app.metalo.grainsize.html">Metalo - Grain Size Analysis</a></li> <li><a href="app.nstorm.html">N-STORM</a></li> <li><a href="howto.triggeredacquisition.html">Triggered Acquisition</a></li> <li><a href="app.objectclassifier.html">Object Classifier</a></li> <li><a href="app.se.html">Smart Experiment</a></li> <li><a href="howto.tracking.html">Tracking</a></li> <li><a href="app.welds.html">Weld Measurement</a></li> </ul> </li> <li><a href="fr.html">Macro Functions</a></li> <!-- toggle sidebar button --> <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> --> </ul> </div> <!-- /.container --> </nav> <!-- Page Content --> <div class=""> <div id="main" class="fixedPage"> <!-- Sidebar Column --> <div class="fixedSidebar" id="tg-sb-sidebar"> <!--<p>--> <ul id="mysidebar" class="nav"> <li class="sidebarTitle">NIS-Elements AR </li> <li class="sidebarSub "> <a title="Bio Analysis Modules" href="analysis.modules.html">Bio Analysis Modules</a> </li> <li class=" hidearrow"><a title="Analysis Explorer" href="analysis.explorer.html">Analysis Explorer</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Cell Count Analysis" href="analysis.count.html">Cell Count Analysis</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Cell Motility" href="analysis.cell.motility.html">Cell Motility</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Cell Proliferation" href="analysis.cell.proliferation.html">Cell Proliferation</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Wound Healing" href="analysis.wound.healing.html">Wound Healing</a> <ul> </ul> </li> <li class="active hidearrow"><a title="General Analysis" href="analysis.general.html">General Analysis</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Image Intensity Analysis" href="analysis.intensity.html">Image Intensity Analysis</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Live/Dead Analysis" href="analysis.livedead.html">Live/Dead Analysis</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Sperm Motility" href="analysis.sperm.motility.html">Sperm Motility</a> <ul> </ul> </li> <!--if you aren't using the accordion, uncomment this block:--> <!--<p class="external"> <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a> </p>--> </ul> <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--> <script>$("li.active").parents('li').toggleClass("active");</script> </div> <!-- Content Column --> <div class="fixedContent" id="tg-sb-content"> <div id="invalidHash"></div> <div class="section page"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="analysis.general"></a>General Analysis<button class="xmlid" data-clipboard-text="id|analysis.generalx">üîó</button></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="analysis.general.html#p2c4s6s1">Introduction to General Analysis</a></span></dt><dt><span class="section"><a href="analysis.general.html#p2c4s6s2">Graphical user interface</a></span></dt><dt><span class="section"><a href="analysis.general.html#p2c4s6s3">How To Set General Analysis</a></span></dt><dt><span class="section"><a href="analysis.general.html#analysis.general.example">General Analysis in <span class="productname">NIS-Elements</span> - Model Use Case</a></span></dt><dt><span class="section"><a href="analysis.general.html#ga.usecase.mp.global">General Analysis in JOBS Module - Appended Point Set Use Case</a></span></dt><dt><span class="section"><a href="analysis.general.html#ga.usecase.mp.local">General Analysis in JOBS Module - Replaced Point Set Use Case</a></span></dt></dl></div><p><span class="requires">(requires: <a class="link" href="reference.modules.html#mod.ga">General Analysis</a>)</span></p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c4s6s1"></a>Introduction to General Analysis<button class="xmlid" data-clipboard-text="id|p2c4s6s1x">üîó</button></h3></div></div></div><p>With <span class="guilabel">General Analysis</span>, it is possible to make multiple binary masks on a single channel as well as to combine multiple masks by means of generic expression with powerful operators. It is also possible to calculate custom features. High interactivity enables viewing your result at any time. Check boxes enable viewing just the desired operations or analysis steps. Complicated sequences can be created in few minutes - e.g. color image processing, segmentation, binary image processing, object filtration and measurement, etc. Binary masks can also be mixed using a general expression. Any binary mask can act as a ROI (Region Of Interest) inside which measurement can be done (organelles, markers in cells, etc.).</p><p><span class="guilabel">General Analysis</span> exists in two forms - as a part of the Jobs module local option (results go to the Jobs database and are automatically saved as <span class="guilabel">Job Run</span>) and as a local option of <span class="productname">NIS-Elements</span> available from the <span class="guilabel">Image</span> menu (results are shown in the <span class="guilabel">Automated Measurement Results</span> tab and are automatically deleted after closing unless they are saved). Except small details, the graphical user interface is almost the same in both forms.</p><p class="para">See also: <a class="xref" href="hcajobs.analysis.html">HCA Analysis</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c4s6s2"></a>Graphical user interface<button class="xmlid" data-clipboard-text="id|p2c4s6s2x">üîó</button></h3></div></div></div><div class="note"><h3 class="title">Note</h3><p>Any changes made to the color image are temporary. All operations (thresholding, processing, measurements, calculations, etc.) are made on the original (unaffected) image data. The General Analysis dialog setting is saved as a <span class="guilabel">Recipe</span> (see: <a class="link" href="jobs.menu.html#menu.hcajobs.presets.managerecipes"><span class="emphasis"><em><img src="../assets/main_menu.png"> HCA/JOBS &gt; Presets &gt; Manage Recipes</em></span></a><a name="d0e56352"></a>). Analysis <span class="guilabel">results</span> (for General Analysis from the <span class="guilabel">Image</span> menu) must be saved otherwise they are deleted after closing the results window. Results from General Analysis performed by <span class="guilabel">Jobs</span> are automatically saved in single <span class="guilabel">Job Run</span>.</p></div><p class="formalpara"><b>Top Toolbar Options&nbsp;</b><br>The top buttons for General Analysis found in the <span class="guilabel">Image</span> menu are described in the <a class="link" href="image.menu.html#menu.image.generalanalysis"><span class="emphasis"><em><img src="../assets/main_menu.png"> Image &gt; General Analysis</em></span></a><a name="d0e56380"></a> section whereas General Analysis for Jobs is described in the <a class="xref" href="jobs.run.analysis.html">Analysis</a> chapter.</p><p><b>Analysis Palette&nbsp;</b><br></p><div class="variablelist"><dl><div class="varlistentry"><span class="term">Info tab</span> <div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_tab_info.png" title="" data-title="Info tab "><img class="img-responsive" src="../img/eng/general_analysis_tab_info.png" alt="../img/eng/general_analysis_tab_info.png image"></a><p class="title"><b>Figure&nbsp;555.&nbsp;Info tab</b></p></div></div><p>This tab enables editing the General Analysis <span class="guilabel">Description</span>, viewing <span class="guilabel">Channel Description</span> and adding notes to each channel (3rd column in the bottom table). <span class="guibutton">OK</span> applies the current General Analysis setting and quits the window. <span class="guilabel">Cancel</span> closes the General Analysis window without using the current settings. <span class="guilabel">Preview</span> displays changes done in General Analysis inside the <span class="guilabel">Preview</span> window. These three last features can be found at the bottom of each general analysis tab.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/multichannel.png" height="12.5"> Add Channel tab</span> <div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_3.png" title="" data-title="Add Channel tab "><img class="img-responsive" src="../img/eng/general_analysis_3.png" alt="../img/eng/general_analysis_3.png image"></a><p class="title"><b>Figure&nbsp;556.&nbsp;Add Channel tab</b></p></div></div><p>Add and name your new channel tab defined on a specified color channel. These two features can later be changed at the top of each channel tab, where you can also set the channel's color label. The <img src="../res/base/binary.png" height="12.5"> <span class="guilabel">View Binary</span> icon opens the <span class="guilabel">Binary Layers</span> panel showing all binary layers available. <img src="../res/base/arr/item_up.png" height="12.5"> <img src="../res/base/arr/item_down.png" height="12.5"> <span class="guilabel">Move Layer Up</span>/<span class="guilabel">Move Layer Down</span> icons moves the currently selected channel one step up / down in the <span class="guilabel">Binary Layers</span> panel. After defining parameters it may produce a binary mask as a result of channel segmentation and processing. When the analysis is executed it produces measurement on the mask (if made) and selected channel.</p><p>If the <span class="guibutton"> <img src="../res/base/wizard_star.png" height="12.5"> </span> Wizard button is clicked, the current Channel is marked with a wizard symbol and Thresholding parameters will be shown in the wizard area after the job is executed. Custom description to the threshold linked with its channel can be entered after clicking the <span class="guibutton">...</span> button.</p><div class="note"><h3 class="title">Note</h3><p>The number of channels is limited to 40. However this number may not always be achieved. It depends on the maximal allowed value of the User Objects in the system process. This value is set to 10000 by default and can be changed in the registry key:</p><pre class="synopsis">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Windows\USERProcessHandleQuota]</pre></div></div><div class="varlistentry"><span class="term"><img src="../res/base/bin_op_a_minus_b.png" height="12.5"> Add Combined tab</span> <div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/binary_tab_buttons.png" title="" data-title="Add Combined tab "><img class="img-responsive" src="../img/eng/binary_tab_buttons.png" alt="../img/eng/binary_tab_buttons.png image"></a><p class="title"><b>Figure&nbsp;557.&nbsp;Add Combined tab</b></p></div></div><p>Combined tab is used to make binary images as a combination of existing (tabs above the current one) binaries (e.g. union, intersection of previously created masks). You can use the <span class="guilabel">Binary Operations</span> buttons to make an <span class="guilabel">Expression</span> which defines how existing binary masks are combined. The first row of buttons contains operands ‚Äì the binary masks (from the tabs to left of the current tab). Below are the operators: AND ‚Äì Intersection, OR ‚Äì Union, NOT ‚Äì Complement, SUB ‚Äì Subtraction, XOR ‚Äì Exclusive OR, HAVING and parentheses. AND, OR, SUB, XOR and HAVING are all binary operators: the are placed between operands. NOT is an unary operator placed before one operand. Parentheses should be used to dictate the order of operations. After defining the expression you can choose <span class="guilabel">Binary Processing</span> and <span class="guilabel">Features</span> to be calculated.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/ro_roi.png" height="12.5"> Add ROI tab</span> <div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_tab_roi_mask.png" title="" data-title="Add ROI tab "><img class="img-responsive" src="../img/eng/general_analysis_tab_roi_mask.png" alt="../img/eng/general_analysis_tab_roi_mask.png image"></a><p class="title"><b>Figure&nbsp;558.&nbsp;Add ROI tab</b></p></div></div><p>This tab measures features inside a selected binary. Choose the binary from the <span class="guilabel">ROI</span> combo box and select one of the methods handling objects touching ROI borders. Then add desired measured <span class="guilabel">features</span> below. You can also measure <span class="emphasis"><em>distances of</em></span> objects <span class="emphasis"><em>to</em></span> different objects and <span class="guilabel">save</span> these data together with the analysis results.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/calculator.png" height="12.5"> Add Calculations tab</span> <div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_tab_calculations.png" title="" data-title="Calculations tab "><img class="img-responsive" src="../img/eng/general_analysis_tab_calculations.png" alt="../img/eng/general_analysis_tab_calculations.png image"></a><p class="title"><b>Figure&nbsp;559.&nbsp;Calculations tab</b></p></div></div><p><b>Calculations&nbsp;</b><br>Adds a new tab called Calculations. These functions enable mathematical operations on measured data. By adding a new calculation and clicking the <span class="guilabel">...</span> button you enter the <span class="guilabel">Expression Definition</span> window where you can write your expression using supported functions and operators:</p><div class="segmentedlist"><table border="0"><thead><tr class="segtitle"><th>Function</th><th>Description</th></tr></thead><tbody><tr class="seglistitem"><td class="seg">abs()</td><td class="seg">absolute value</td></tr><tr class="seglistitem"><td class="seg">acos()</td><td class="seg">arc cosine</td></tr><tr class="seglistitem"><td class="seg">acosh()</td><td class="seg">arc hyperbolic cosine</td></tr><tr class="seglistitem"><td class="seg">asin()</td><td class="seg">arc sin</td></tr><tr class="seglistitem"><td class="seg">asinh()</td><td class="seg">arc hyperbolic sin</td></tr><tr class="seglistitem"><td class="seg">atan()</td><td class="seg">arc tangent</td></tr><tr class="seglistitem"><td class="seg">atanh()</td><td class="seg">arc hyperbolic tangent</td></tr><tr class="seglistitem"><td class="seg">avg()</td><td class="seg">average</td></tr><tr class="seglistitem"><td class="seg">cos()</td><td class="seg">cosine</td></tr><tr class="seglistitem"><td class="seg">cosh()</td><td class="seg">hyperbolic cosine</td></tr><tr class="seglistitem"><td class="seg">exp()</td><td class="seg">exponential power</td></tr><tr class="seglistitem"><td class="seg">if(;;)</td><td class="seg">condition if</td></tr><tr class="seglistitem"><td class="seg">ln()</td><td class="seg">natural log</td></tr><tr class="seglistitem"><td class="seg">log()</td><td class="seg">logarithm</td></tr><tr class="seglistitem"><td class="seg">log10()</td><td class="seg">common logarithm</td></tr><tr class="seglistitem"><td class="seg">log2()</td><td class="seg">binary logarithm</td></tr><tr class="seglistitem"><td class="seg">max()</td><td class="seg">maximum</td></tr><tr class="seglistitem"><td class="seg">min()</td><td class="seg">minimum</td></tr><tr class="seglistitem"><td class="seg">rint()</td><td class="seg">round to integral value</td></tr><tr class="seglistitem"><td class="seg">sign()</td><td class="seg">sign</td></tr><tr class="seglistitem"><td class="seg">sqrt()</td><td class="seg">square root</td></tr><tr class="seglistitem"><td class="seg">sum()</td><td class="seg">sum</td></tr><tr class="seglistitem"><td class="seg">tan()</td><td class="seg">tangent</td></tr><tr class="seglistitem"><td class="seg">tanh()</td><td class="seg">hyperbolic tangent</td></tr></tbody></table></div><p> </p><div class="segmentedlist"><table border="0"><thead><tr class="segtitle"><th>Operator</th><th>Description</th></tr></thead><tbody><tr class="seglistitem"><td class="seg">+</td><td class="seg">addition</td></tr><tr class="seglistitem"><td class="seg">-</td><td class="seg">subtraction</td></tr><tr class="seglistitem"><td class="seg">*</td><td class="seg">multiplication</td></tr><tr class="seglistitem"><td class="seg">/</td><td class="seg">division</td></tr><tr class="seglistitem"><td class="seg">^</td><td class="seg">square</td></tr><tr class="seglistitem"><td class="seg">&lt;</td><td class="seg">less than</td></tr><tr class="seglistitem"><td class="seg">&lt;=</td><td class="seg">less than or equal to</td></tr><tr class="seglistitem"><td class="seg">&gt;</td><td class="seg">greater than</td></tr><tr class="seglistitem"><td class="seg">&gt;=</td><td class="seg">greater than or equal to</td></tr><tr class="seglistitem"><td class="seg">==</td><td class="seg">equal to</td></tr><tr class="seglistitem"><td class="seg">&amp;&amp;</td><td class="seg">logical AND</td></tr><tr class="seglistitem"><td class="seg">||</td><td class="seg">logical OR</td></tr><tr class="seglistitem"><td class="seg">!=</td><td class="seg">not equal to</td></tr></tbody></table></div><p class="para">For more information about writing expressions, please see <a class="xref" href="jobs_introduction_to_expressions.html">Using Expressions</a>.</p><p><b>Populate pointsets with objects coordinates&nbsp;</b><br><span class="guilabel">Populate pointsets with objects coordinates</span> finds centers of objects in a selected binary and fills your point set with their coordinates. To use this function, your job definition has to contain the <a class="link" href="task.stagexy_section.html#task.newpointset"><span class="emphasis"><em>Stage XY Points &gt; <img src="../res/base/jobs/pointset_empty.png"> New Point Set</em></span></a><a name="d0e56758"></a> task. Be sure you set the <span class="guilabel">Action</span> correctly. <span class="guilabel">Append</span> should be used in cases where the point set is firstly filled with all points and then more operations are preformed on this point set. <span class="guilabel">Replace</span> is used when a point position is found and the operation is performed immediately on it. Then it is overwritten by the next xy position where measurement is performed.<span> For better understanding this function please see our two use cases: <a class="xref" href="analysis.general.html#ga.usecase.mp.global">General Analysis in JOBS Module - Appended Point Set Use Case</a>, <a class="xref" href="analysis.general.html#ga.usecase.mp.local">General Analysis in JOBS Module - Replaced Point Set Use Case</a>.</span></p><p><b>Define regions&nbsp;</b><br>This function automatically generates regions if your job definition contains the <a class="link" href="tasks.largeimages.html#task.regions"><span class="emphasis"><em>Large Images &gt; <img src="../res/base/jobs/regionset.png"> Region List</em></span></a><a name="d0e56787"></a> task. Choose your <span class="guilabel">Region</span> list, specify on which layer the regions will be detected, choose between <span class="guilabel">Append</span> / <span class="guilabel">Replace</span> (described above) and select the Region Division (<span class="guilabel">Per Frame</span> / <span class="guilabel">Per Object</span>).</p></div></dl></div><p><b>Analysis steps&nbsp;</b><br></p><div class="variablelist"><dl><div class="varlistentry"><span class="term"><img src="../res/base/trash.png" height="12.5"> Remove Selected Tab</span> <p>Deletes the currently selected tab.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/arr/item_up.png" height="12.5"> <img src="../res/base/arr/item_down.png" height="12.5"> Move Up / Down</span> <p>Using these arrows you can move your tabs vertically in their inventory.</p></div></dl></div><p><b>Main area options&nbsp;</b><br></p><div class="variablelist"><dl><div class="varlistentry"><span class="term">Preprocessing</span> <p>Here you can choose one of the <span class="guilabel">Preprocessing</span> methods: Remove Average Background, Remove Dark Background, Remove Light Background, Subtract Background Using Contrast, Autocontrast, Local Contrast, General Convolution, Detect DIC Objects, Detect Edges, Detect Peaks, Detect Regional Maxima, Detect Regional Minima, Detect Valleys, Gabor Edge Detection, Gradient Morpho, Linear Close, Linear Dilate, Linear Erode, Linear Open, Close, Open, Low Pass Filter, Advanced Denoising, Fast Denoising, Median and Smooth.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/matrix/com5x5.png" height="12.5"> Kernel</span> <p>By clicking the kernel icon you can switch between different kernels. Each kernel icon represents a pixel neighborhood method, that is assigned to the preprocessing method selected. Every pixel of the image is then evaluated according to the selected kernel which influences the resulting image processed by the selected preprocessing method. Try to use different kernels to find out which one brings the best image results for your current capture setup.</p></div><div class="varlistentry"><span class="term">Count</span> <p>Adjusts the intensity of the preprocessing method selected.</p></div><div class="varlistentry"><span class="term">Threshold</span> <p>The threshold bar enables selecting low and high intensity thresholds. Only the pixels within this interval will be taken to make objects visualized as a binary mask. Threshold is optional in General Analysis. If it is skipped, only intensity features on the whole field of view are available. If the threshold is performed, it may be chosen not to save the binary image which is useful for temporary binary masks.</p><p class="para">More information about thresholding can be found here: <a class="xref" href="ug.segmentation.html#GS_Threshold">Thresholding</a>.</p></div><div class="varlistentry"><span class="term">Bright/Dark Spot Detection</span> <p>Spot Detection uses mainly circular objects with same intensity values as a threshold.</p><p class="para">For more information about setting up the Spot Detection parameters, please see: <a class="xref" href="ug.segmentation.html#spot.detection">Spot Detection</a>.</p></div><div class="varlistentry"><span class="term">Tight Borders Detection</span> <p>For information about this detection, please see <a class="link" href="binary.menu.html#menu.binary.segmentation.segmenttightborders"><span class="emphasis"><em><img src="../assets/main_menu.png"> Binary &gt; Segmentation &gt; Segment Tight Borders</em></span></a><a name="d0e56884"></a>.</p></div><div class="varlistentry"><span class="term">Smooth / Clean / Fill holes / Separate</span> <p>These tools function as filters. Use them to improve your image quality before processing. Use Smooth (to smooth rough edges) / Clean (removes small objects) / Fill Holes / Separate to get the objects.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/reset.png" height="12.5"> Reset</span> <p>This button resets the settings.</p></div><div class="varlistentry"><span class="term">Size</span> <p>Position the sliders to restrict the area of the sizes of detected objects.</p></div><div class="varlistentry"><span class="term">Circularity</span> <p>Position the sliders to restrict objects in your image with desired circularity.</p></div><div class="varlistentry"><span class="term">Save Binary</span> <p>Check if you want to save your binary layer together with your captured images.</p></div><div class="varlistentry"><span class="term">Binary processing</span> <p>Binary processing further alters the binary masks. The choice of operations is same as in <span class="productname">NIS-Elements</span>. You can choose some binary processing methods, set their kernel and intensity (<span class="guilabel">Count</span>). </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/binary_processing_watershed.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/binary_processing_watershed.png" alt="../img/eng/binary_processing_watershed.png image"></a><p class="title"><b>Figure&nbsp;560.&nbsp;</b></p></div></div></div><div class="varlistentry"><span class="term">Feature</span> <p>When the Binary mask is fine-tuned it is time to set the features to be measured and saved into the database.</p><p class="para">See <a class="xref" href="GS_MeasurementFeatures.html">Measurement Features</a>.</p><div class="note"><h3 class="title">Note</h3><p>If you check <span class="guilabel">Preview</span> you can see the results of a currently defined analysis.</p></div></div></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c4s6s3"></a>How To Set General Analysis<button class="xmlid" data-clipboard-text="id|p2c4s6s3x">üîó</button></h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><b>Insert analysis info</b></p><p>You start with an empty dialog with the <span class="guilabel">Info</span> tab selected. Here you can insert description of the analysis.</p></li><li class="step"><p class="title"><b>Add relevant color channels to the analysis</b></p><p>Decide on which image channels the segmentation will be performed. Add these channels to the <span class="guilabel">Analysis steps</span> tab by the <img src="../res/base/multichannel.png" height="12.5"> <span class="guilabel">Add Channel</span> button.</p></li><li class="step"><p class="title"><b>Define analysis of each channel</b></p><p>Adjust the preprocessing, segmentation, binary processing parameters and measurement features for the added channels. The resulting binary layers are displayed in the current image window. You can turn each layer on/off by the check box in front of the channel name.</p><p>If preprocessing has been applied, you can always display the original image by selecting the <span class="guilabel">View original</span> check box.</p><div class="note"><h3 class="title">Note</h3><p>Any changes made to the color image are temporary (only for Thresholding and Spot Detection) and all measurements are made on the original (unaffected) image data as well as saving.</p></div></li><li class="step"><p class="title"><b>Combine binary layers (optional)</b></p><p>You can perform logical operations processing and measurements on multiple binary layers. To do so, create a <span class="quote">‚Äú<span class="quote">combined</span>‚Äù</span> channel by clicking the <img src="../res/base/bin_op_a_minus_b.png" height="12.5"> <span class="guilabel">Add Combined Layer</span> button and specify the parameters.</p></li><li class="step"><p class="title"><b>Define ROI</b></p><p>Binary mask of one channel can be used as a ROI to restrict measurement on another channel. If this is the case, click the <span class="guilabel">Add ROI</span> button. In th ROI channel, again, specify the measurement features.</p></li><li class="step"><p class="title"><b>Define calculations</b></p><p>Click the <img src="../res/base/calculator.png" height="12.5"> <span class="guilabel">Add Calculations</span> button to add the calculation step in the analysis. In this step you can define any mathematical expression using the features measured in previous steps of the analysis.</p></li><li class="step"><p class="title"><b>Run the analysis</b></p><p>Click the <span class="guibutton">Run Now</span> button to apply the analysis to the current image. A new record will be appended to the list of performed analyses in the <span class="guilabel">Analysis Explorer</span>. The measured results are then accessible in the <a class="link" href="view.menu.html#menu.view.analysiscontrols.automatedmeasurementresults"><span class="emphasis"><em><img src="../assets/main_menu.png"> View &gt; Analysis Controls &gt; Automated Measurement Results <img src="../res/base/ctrl_AutomaticMeasurementResults.png"></em></span></a><a name="d0e57037"></a> window.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="analysis.general.example"></a>General Analysis in <span class="productname">NIS-Elements</span> - Model Use Case<button class="xmlid" data-clipboard-text="id|analysis.general.examplex">üîó</button></h3></div></div></div><p>The possibilities of the General Analysis are best shown on a real example. In this case we are trying to find out how much of a protein gephyrin (in red) is present in positively labeled globular bushy cells (in green) using General analysis in <span class="productname">NIS-Elements</span>.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_1.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_1.png" alt="../img/eng/general_analysis_2013_use_case_1.png image"></a><p class="title"><b>Figure&nbsp;561.&nbsp;</b></p></div></div><p>The green channel ‚ÄúAlexa 488‚Äù shows globular bushy cells (GBC) in an anteroventral cochlear nucleus (AVCN) part of a rat brain stem. The red channel ‚ÄúCy3‚Äù shows the protein gephyrin.</p><p>We start by opening the General Analysis dialog window (<a class="link" href="image.menu.html#menu.image.generalanalysis"><span class="emphasis"><em><img src="../assets/main_menu.png"> Image &gt; General Analysis</em></span></a><a name="d0e57066"></a>) and adding the Alexa 488 as a new layer. This can be done clicking the <img src="../res/base/multichannel.png" height="12.5"> <span class="guilabel">Add Channel</span> icon. We enhance the image using <span class="guilabel">Local Contrast</span> and then we define the <span class="guilabel">threshold</span> values to restrict our cells from the background and other objects. Just for better visualisation we also added <span class="guilabel">Count</span> as a <span class="guilabel">Feature</span> to know, how many objects are detected using the current settings.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_2.png" title="" data-title="Parameters of the first channel. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_2.png" alt="../img/eng/general_analysis_2013_use_case_2.png image"></a><p class="title"><b>Figure&nbsp;562.&nbsp;Parameters of the first channel.</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_3.png" title="" data-title="Resulting preview. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_3.png" alt="../img/eng/general_analysis_2013_use_case_3.png image"></a><p class="title"><b>Figure&nbsp;563.&nbsp;Resulting preview.</b></p></div></div><p>Now we can add the second channel and do thresholding as we did with the first one.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_4.png" title="" data-title="Thresholding the second channel. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_4.png" alt="../img/eng/general_analysis_2013_use_case_4.png image"></a><p class="title"><b>Figure&nbsp;564.&nbsp;Thresholding the second channel.</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_5.png" title="" data-title="Resulting preview. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_5.png" alt="../img/eng/general_analysis_2013_use_case_5.png image"></a><p class="title"><b>Figure&nbsp;565.&nbsp;Resulting preview.</b></p></div></div><p>To find out which cells contain proteins we will combine both channels clicking the <img src="../res/base/bin_op_a_minus_b.png" height="12.5"> <span class="guilabel">Add Combined layer</span> icon and defining the expression as follows: <code class="code">Alexa_488 HAVING Cy3</code>. This way we can create ROIs only with cells containing proteins.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_6.png" title="" data-title="Combined tab settings. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_6.png" alt="../img/eng/general_analysis_2013_use_case_6.png image"></a><p class="title"><b>Figure&nbsp;566.&nbsp;Combined tab settings.</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_7.png" title="" data-title="Resulting ROIs. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_7.png" alt="../img/eng/general_analysis_2013_use_case_7.png image"></a><p class="title"><b>Figure&nbsp;567.&nbsp;Resulting ROIs.</b></p></div></div><p>We will now use the ROIs from the previous step for the final protein count. We click the <img src="../res/base/ro_roi.png" height="12.5"> <span class="guilabel">Add ROI Mask</span> tool and select <span class="guilabel">Inside</span> which we want to measure (Combined). Now we define which features to measure (<span class="emphasis"><em>Count of Cy3</em></span> channel in our case). When done we click the <span class="guibutton">Run Now</span> button and view the results.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_8.png" title="" data-title="ROI Mask measurement. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_8.png" alt="../img/eng/general_analysis_2013_use_case_8.png image"></a><p class="title"><b>Figure&nbsp;568.&nbsp;ROI Mask measurement.</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_9.png" title="" data-title="Final results. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_9.png" alt="../img/eng/general_analysis_2013_use_case_9.png image"></a><p class="title"><b>Figure&nbsp;569.&nbsp;Final results.</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_use_case_10.png" title="" data-title="Result visualisation. "><img class="img-responsive" src="../img/eng/general_analysis_2013_use_case_10.png" alt="../img/eng/general_analysis_2013_use_case_10.png image"></a><p class="title"><b>Figure&nbsp;570.&nbsp;Result visualisation.</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ga.usecase.mp.global"></a>General Analysis in JOBS Module - Appended Point Set Use Case<button class="xmlid" data-clipboard-text="id|ga.usecase.mp.globalx">üîó</button></h3></div></div></div><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/jobs_usecase_ga_pointset.png" title="" data-title="Scheme: GA creates global point set "><img class="img-responsive" src="../img/jobs_usecase_ga_pointset.png" alt="../img/jobs_usecase_ga_pointset.png image"></a><p class="title"><b>Figure&nbsp;571.&nbsp;Scheme: GA creates global point set</b></p></div></div><p> </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The slide is scanned at 20x magnification.</p></li><li class="listitem"><p>General Analysis is used to detect objects and create a new point set with only the objects of interest (their centers).</p></li><li class="listitem"><p>The new point set is scanned at 40x magnification.</p></li></ol></div><p>Such a procedure can be carried out using the following tasks.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><b>Scan area</b></p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_scanarea.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_scanarea.png" alt="../img/eng/ga_usecase_jobdef_scanarea.png image"></a><p class="title"><b>Figure&nbsp;572.&nbsp;</b></p></div></div><p>We are using a 75x25 mm slide with a labeled sticker. We will scan an area of 5x5 mm. The slide must be aligned before the scan begins.</p></li><li class="step"><p class="title"><b>The Detection and the Capturing Point Sets</b></p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_pointsets.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_pointsets.png" alt="../img/eng/ga_usecase_jobdef_pointsets.png image"></a><p class="title"><b>Figure&nbsp;573.&nbsp;</b></p></div></div><p>There are two point sets in the job. The first point set is to be used with the low magnification objective to detect cell nuclei. The other is an empty point set which will be filled with points based on the General Analysis results.</p></li><li class="step"><p class="title"><b>Capture Definitions</b></p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_capturesettings.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_capturesettings.png" alt="../img/eng/ga_usecase_jobdef_capturesettings.png image"></a><p class="title"><b>Figure&nbsp;574.&nbsp;</b></p></div></div><p>The first capture definition is used for detection of cell nuclei while the second definition is used to capture two-channel images (nuclei and mitochondria).</p></li><li class="step"><p class="title"><b>Detection Point Loop</b></p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_pointloop_detect.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_pointloop_detect.png" alt="../img/eng/ga_usecase_jobdef_pointloop_detect.png image"></a><p class="title"><b>Figure&nbsp;575.&nbsp;</b></p></div></div><p>In the detection point loop, general analysis task is defined, containing two channels (operations):</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_ga_channels.png" title="" data-title="General Analysis Window "><img class="img-responsive" src="../img/eng/ga_usecase_ga_channels.png" alt="../img/eng/ga_usecase_ga_channels.png image"></a><p class="title"><b>Figure&nbsp;576.&nbsp;General Analysis Window</b></p></div></div><p> </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Segmentation of the DAPI channel - if an object is detected, its center is appended to the new point set.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_joba_4.png" title="" data-title="Settings of the Threshold_DAPI channel "><img class="img-responsive" src="../img/eng/general_analysis_2013_joba_4.png" alt="../img/eng/general_analysis_2013_joba_4.png image"></a><p class="title"><b>Figure&nbsp;577.&nbsp;Settings of the Threshold_DAPI channel</b></p></div></div></li><li class="listitem"><p>New Point Set definition - defines where to store the detected points and that we want to append (not replace) each point.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_joba_5.png" title="" data-title="Settings of the Calculations channel - the point set definition "><img class="img-responsive" src="../img/eng/general_analysis_2013_joba_5.png" alt="../img/eng/general_analysis_2013_joba_5.png image"></a><p class="title"><b>Figure&nbsp;578.&nbsp;Settings of the Calculations channel - the point set definition</b></p></div></div></li></ul></div></li><li class="step"><p class="title"><b>Capturing Point Loop</b></p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_pointloop_capture_pointset.png" title="" data-title="The point loop responsible for high magnification image capturing "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_pointloop_capture_pointset.png" alt="../img/eng/ga_usecase_jobdef_pointloop_capture_pointset.png image"></a><p class="title"><b>Figure&nbsp;579.&nbsp;The point loop responsible for high magnification image capturing</b></p></div></div></li></ol></div><p>The resulting job should look like this:</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_jobdef_definition.png" title="" data-title="Job Definition "><img class="img-responsive" src="../img/eng/ga_usecase_jobdef_definition.png" alt="../img/eng/ga_usecase_jobdef_definition.png image"></a><p class="title"><b>Figure&nbsp;580.&nbsp;Job Definition</b></p></div></div><p>Once the job is started, a progress window appears:</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_joba_6.png" title="" data-title="Low resolution capture on DAPI, detection of objects "><img class="img-responsive" src="../img/eng/general_analysis_2013_joba_6.png" alt="../img/eng/general_analysis_2013_joba_6.png image"></a><p class="title"><b>Figure&nbsp;581.&nbsp;Low resolution capture on DAPI, detection of objects</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_joba_8.png" title="" data-title="High resolution capture - both image channels "><img class="img-responsive" src="../img/eng/general_analysis_2013_joba_8.png" alt="../img/eng/general_analysis_2013_joba_8.png image"></a><p class="title"><b>Figure&nbsp;582.&nbsp;High resolution capture - both image channels</b></p></div></div><p> </p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_joba_9.png" title="" data-title="Job Results "><img class="img-responsive" src="../img/eng/general_analysis_2013_joba_9.png" alt="../img/eng/general_analysis_2013_joba_9.png image"></a><p class="title"><b>Figure&nbsp;583.&nbsp;Job Results</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ga.usecase.mp.local"></a>General Analysis in JOBS Module - Replaced Point Set Use Case<button class="xmlid" data-clipboard-text="id|ga.usecase.mp.localx">üîó</button></h3></div></div></div><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/jobs_usecase_ga_zstack_in_pointset.png" title="" data-title="Scheme: GA creates local point set "><img class="img-responsive" src="../img/jobs_usecase_ga_zstack_in_pointset.png" alt="../img/jobs_usecase_ga_zstack_in_pointset.png image"></a><p class="title"><b>Figure&nbsp;584.&nbsp;Scheme: GA creates local point set</b></p></div></div><p>In this example, unlike in the previous one (<a class="xref" href="analysis.general.html#ga.usecase.mp.global">General Analysis in JOBS Module - Appended Point Set Use Case</a>), if General Analysis detects one or more objects, a local point set is created and scanned immediately (see <a class="xref" href="analysis.general.html#fig.local.pointset">Figure&nbsp;584, ‚ÄúScheme: GA creates local point set‚Äù</a>). Such setup can be used to acquire for example live processes. All time-consuming actions such as objective changing shall be removed in such cases:</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/general_analysis_2013_jobb_1.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/general_analysis_2013_jobb_1.png" alt="../img/eng/general_analysis_2013_jobb_1.png image"></a><p class="title"><b>Figure&nbsp;585.&nbsp;</b></p></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><b>Tasks arrangement</b></p><p>If you compare this job with the previous one, the biggest difference is in the placement of the <span class="emphasis"><em>Detected_Points</em></span> point loop which is placed INSIDE of the <span class="emphasis"><em>Detect_objects</em></span> loop. Furthermore, a time loop has been added.</p></li><li class="step"><p class="title"><b>Detection Point Loop</b></p><p>In the detection point loop, general analysis is defined, containing two channels (operations):</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_ga_channels.png" title="" data-title="General Analysis Window "><img class="img-responsive" src="../img/eng/ga_usecase_ga_channels.png" alt="../img/eng/ga_usecase_ga_channels.png image"></a><p class="title"><b>Figure&nbsp;586.&nbsp;General Analysis Window</b></p></div></div><p> </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Segmentation - if an object is detected, its center is appended to the local point set.</p></li><li class="listitem"><p>Local Point Set definition - defines where to store the detected points and that we want to run in <span class="quote">‚Äú<span class="quote">replace</span>‚Äù</span> mode.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/ga_usecase_ga_pointset_replace.png" title="" data-title="GA: Settings of the Calculation channel "><img class="img-responsive" src="../img/eng/ga_usecase_ga_pointset_replace.png" alt="../img/eng/ga_usecase_ga_pointset_replace.png image"></a><p class="title"><b>Figure&nbsp;587.&nbsp;GA: Settings of the Calculation channel</b></p></div></div></li></ul></div></li></ol></div></div></div><div class="footer"><a href="http://www.laboratory-imaging.com" class="footer" target="_blank">Copyright 1991-2025 Laboratory Imaging s.r.o.</a></div><div style="height:30%;width:100%;"></div> </div> <!-- /#main --> </div> </div> </body> </html>
