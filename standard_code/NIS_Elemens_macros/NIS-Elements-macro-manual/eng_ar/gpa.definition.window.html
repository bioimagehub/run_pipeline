<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=" "> <title>Creating a recipe | NIS-Elements</title> <link rel="stylesheet" type="text/css" href="../css/syntax.css"> <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css"> <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"> <link rel="stylesheet" type="text/css" href="../css/modern-business.css"> <link rel="stylesheet" type="text/css" href="../css/customstyles.css"> <link rel="stylesheet" type="text/css" href="../css/boxshadowproperties.css"> <link rel="stylesheet" type="text/css" href="../css/ekko-lightbox.min.css"> <link rel="stylesheet" type="text/css" href="../css/ne.css"> <script src="../js/jquery.min.js"></script> <script src="../js/jquery.cookie.min.js"></script> <script src="../js/jquery.navgoco.min.js"></script> <script src="../js/bootstrap.min.js"></script> <script src="../js/ekko-lightbox.min.js"></script> <script src="../js/lightbox.js"></script> <script src="../js/lim_help.js"></script> <script src="../js/jscopy.js"></script> <link rel="shortcut icon" href="../images/favicon_ne.ico""> <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml"> </head> <body> <!-- find project homepage --> <!-- Navigation --> <nav class="navbar navbar-inverse navbar-static-top"> <div class="container-fluid topnavlinks"> <ul class="nav navbar-nav navbar-left"> <!-- separate search window: --> <!--<li><a onclick='window.open("SearchWindow.html","Search","toolbar=0,location=0,directories=0,status=0,menubar=0,top=100,left=100,height=800,width=600");'><img src="images/zoomimage.svg" class="icon"/></a></li>--> <!-- embedded iframe search window: --> <li class="pull-right"> <a href="search.html?frompage=gpa.definition.window.html" id="searchButton" class="searchButton btn btn-primary" title="Search"> <img src="../images/zoomimage.svg" class="icon"/> </a> <div class="searchButtonWrapper"> </div> </li> <li> <a class="fa fa-lg navbar-brand" href="man.html" alt="NIS-Elements"> <img src="../images/logo_ne.svg"/> </a> </li> <!-- entries without drop-downs appear here --> <li><a href="man.html">User Manual</a></li> <li><a href="cr.html">Menu Commands</a></li> <li class="dropdown active"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Applications<b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="gpa.html">GPA</a></li> <li><a href="nis.ai.html">NIS.ai</a></li> <li><a href="measurement.3d.html">3D Measurement</a></li> <li><a href="analysis.modules.html">Bio Analysis Modules</a></li> <li><a href="app.concrete.html">Concrete</a></li> <li><a href="database.html">Database</a></li> <li><a href="app.deconvolution.html">Deconvolution</a></li> <li><a href="app.edf.html">Extended Depth of Focus</a></li> <li><a href="app.filters.html">Filter Particle Analysis</a></li> <li><a href="app.fret.html">FRET</a></li> <li><a href="app.ga3.html">General Analysis 3 </a></li> <li><a href="ug.hcajobs.html">HCA</a></li> <li><a href="app.hdr.html">HDR</a></li> <li><a href="GS_HowTo.IlluminationSequence.html">Illumination Sequence</a></li> <li><a href="ug.jobs.html">JOBS and HCA</a></li> <li><a href="app.layers.html">Layer Thickness Measurement</a></li> <li><a href="app.sequencer.html">Measurement Sequencer</a></li> <li><a href="app.metalo.castiron.html">Metalo - Cast Iron Analysis</a></li> <li><a href="app.metalo.grainsize.html">Metalo - Grain Size Analysis</a></li> <li><a href="app.nstorm.html">N-STORM</a></li> <li><a href="howto.triggeredacquisition.html">Triggered Acquisition</a></li> <li><a href="app.objectclassifier.html">Object Classifier</a></li> <li><a href="app.se.html">Smart Experiment</a></li> <li><a href="howto.tracking.html">Tracking</a></li> <li><a href="app.welds.html">Weld Measurement</a></li> </ul> </li> <li><a href="fr.html">Macro Functions</a></li> <!-- toggle sidebar button --> <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> --> </ul> </div> <!-- /.container --> </nav> <!-- Page Content --> <div class=""> <div id="main" class="fixedPage"> <!-- Sidebar Column --> <div class="fixedSidebar" id="tg-sb-sidebar"> <!--<p>--> <ul id="mysidebar" class="nav"> <li class="sidebarTitle">NIS-Elements AR </li> <li class="sidebarSub "> <a title="GPA" href="gpa.html">GPA</a> </li> <li class=" hidearrow"><a title="Interface" href="p2c1s1.html">Interface</a> <ul> </ul> </li> <li class=" "><a title="Basic Workflows" href="p2c1s2.html">Basic Workflows</a> <ul> <li class="active"><a title="Creating a recipe" href="gpa.definition.window.html">Creating a recipe</a></li> <li><a title="Executing a recipe" href="gpa.executing.recipe.html">Executing a recipe</a></li> </ul> </li> <li class=" hidearrow"><a title="GPA Explorer" href="gpa.explorer.window.html">GPA Explorer</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Data Integrity Report" href="gpa.cfr.report.html">Data Integrity Report</a> <ul> </ul> </li> <!--if you aren't using the accordion, uncomment this block:--> <!--<p class="external"> <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a> </p>--> </ul> <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--> <script>$("li.active").parents('li').toggleClass("active");</script> </div> <!-- Content Column --> <div class="fixedContent" id="tg-sb-content"> <div id="invalidHash"></div> <div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="gpa.definition.window"></a>Creating a recipe<button class="xmlid" data-clipboard-text="id|gpa.definition.windowx">üîó</button></h3></div></div></div><p>The following workflow shows how to create a GPA recipe.</p><div class="orderedlist"><p class="title"><b>Creating a new recipe</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>Click on <span class="guilabel"> <img src="../res/base/plus.png" height="12.5"> Create New</span> in the <span class="guilabel">GPA Explorer</span>, <span class="guilabel">name</span> your new recipe and optionally add some <span class="guilabel">notes</span>, then click <span class="guibutton">OK</span>.</p></li><li class="listitem"><p><span class="guilabel">GPA Definition</span> window opens. The four main tabs (described below) guide you through the recipe definition.</p><div class="sidebar"><div class="figure pull-right"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/gpa_definition_window.png" title="" data-title="GPA Definition dialog window. "><img class="img-responsive" src="../img/eng/gpa_definition_window.png" alt="../img/eng/gpa_definition_window.png image"></a><p class="title"><b>Figure&nbsp;492.&nbsp;GPA Definition dialog window.</b></p></div></div></li></ol></div><div class="orderedlist"><p class="title"><b>Acquisition</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>Acquisition Type - choose how the sample area will be captured.</p><p><span class="guilabel">Large Image</span> - captures the frames across the defined area and stitches them into a large image.</p><p><span class="guilabel">Covering</span> - captures the frames across the defined area based on the specified maximum particle size and saves them as a multi-point image.</p><p><span class="guilabel">Regular Pattern</span> - captures the frames across the defined area based on the <span class="guilabel">Coverage Definition</span> parameters.</p></li><li class="listitem"><p>Optical Configuration - choose an optical configuration used for image acquisition.</p></li><li class="listitem"><p>Require image intensity level - optionally set the threshold values for the intensity of the image to be captured. Light source should be adjusted to fit into this interval during acquisition.</p></li><li class="listitem"><p>Sample Shape - choose the shape that will define the sample area.</p></li><li class="listitem"><p>Sample Size and Position - for a circular sample shape select:</p><div class="variablelist"><dl><div class="varlistentry"><span class="term">Fixed size and position</span> <p>to define the circle area just by the <span class="guilabel">diameter</span> of the circle.</p></div><div class="varlistentry"><span class="term">Fixed size</span> <p>to define the circle by its <span class="guilabel">diameter</span> and <span class="guilabel">Diameter Tolerance</span> which is the extent to which the newly specified diameter (specified during the GPA run) may differ from the one in the recipe definition.</p></div><div class="varlistentry"><span class="term">Custom</span> <p>to define the circle only by three points (successively click on buttons <span class="guibutton">1. Point</span>, <span class="guibutton">2. Point</span>, <span class="guibutton">3. Point</span> on three different positions).</p></div></dl></div><p>For a rectangular sample shape select:</p><div class="variablelist"><dl><div class="varlistentry"><span class="term">Fixed size and position</span> <p>to define the sample area by the specified <span class="guilabel">width</span>, <span class="guilabel">height</span> and the coordinates of its <span class="guibutton"> <img src="../res/base/well_edge_top_left.png" height="12.5"> Top Left</span> corner.</p></div><div class="varlistentry"><span class="term">Fixed size</span> <p>to define the sample in the same way as in the <span class="guilabel">Fixed</span> method but its top-left corner can be adjusted during the GPA run.</p></div><div class="varlistentry"><span class="term">Custom</span> <p>to define the rectangular area simply by setting its <span class="guibutton"> <img src="../res/base/well_edge_top_left.png" height="12.5"> Top Left</span> and <span class="guibutton"> <img src="../res/base/well_edge_bottom_right.png" height="12.5"> Bottom Right</span> corner.</p></div></dl></div><div class="tip"><h3 class="title">Tip</h3><p>Click on <img src="../res/base/base/navigate.png" height="12.5"> to reveal buttons used for moving the stage position.</p></div></li><li class="listitem"><p>Coverage definition - set the image frames covering the sample area for the <span class="guilabel">Pattern</span> acquisition type.</p><p>For the <span class="guilabel">Covering</span> acquisition type a maximal particle size can be defined (<span class="guilabel">Maximum particle size for frames overlap</span> counted as <span class="guilabel">Max. Feret</span>, <a class="link" href="GS_MeasurementFeatures.html#feature.MaxFeret"><span class="emphasis"><em>MaxFeret </em></span></a><a name="d0e52067"></a>). Particles smaller than this size are measured and the frames are scanned with the appropriate covering (max. is 1/4 of the frame width).</p><p>For the <span class="guilabel">Regular Pattern</span> it can be set either as an exact number of frames (<span class="guilabel">frame count</span>) or calculated automatically by setting just the distance between the frame centers (<span class="guilabel">frame distance</span>).</p></li><li class="listitem"><p>Measurement Mask - sets the excluded (not measured) area for the <span class="guilabel">Large Image</span> acquisition type as a <span class="guilabel">distance from the sample border</span>.</p></li><li class="listitem"><p>Auto Shading - automatic image shading correction <span>(<a class="xref" href="shading.correction.html">Shading Correction</a>) </span>can be turned on.</p></li><li class="listitem"><p>Focusing Options - set how the sample focusing will be performed.</p><div class="variablelist reference"><dl><div class="varlistentry"><span class="term">No focus</span> <p>turns the auto focus function off.</p></div><div class="varlistentry"><span class="term">Focus plane</span> <p>focuses on a focusing plane defined by three points during the GPA run.</p></div><div class="varlistentry"><span class="term">Auto focus</span> <p>can be used to specify the <span class="guilabel">XY-Distance</span>, <span class="guilabel">Z-Range</span> and <span class="guilabel">Z-Step</span> which will be used with the auto focus.</p></div><div class="varlistentry"><span class="term">Focus plane and auto focus</span> <p>combination of the latter two options can be set as well.</p></div></dl></div><p>The recommended range value is shown in the button with an <img src="../res/base/base/arr_basic_w.png" height="12.5"> arrow. Click on it to fill in the recommended Z-Step value. <span class="guibutton">AF Test</span> runs live and performs auto focus with the current settings on the current stage position.</p></li><li class="listitem"><p>Access - choose whether the current definition can be accessed only by its creator (<span class="guilabel">Private</span>) or by all users (<span class="guilabel">Shared</span>).</p></li></ol></div><div class="orderedlist"><p class="title"><b>Measurement</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>Choose between a <span class="guilabel">Standard</span> measurement (described below) or a <span class="guilabel">Custom</span> measurement using a previously defined <span class="guilabel">General Analysis 3</span> <span>(<a class="xref" href="app.ga3.html"><i>General Analysis 3 </i></a>)</span> loaded from a GA3 recipe file.</p></li><li class="listitem"><p>Minimum particle size for measurement - particles smaller than this size measured as an equivalent diameter (<span class="guilabel">Eq. diameter</span>, <a class="link" href="GS_MeasurementFeatures.html#feature.EqDiameter"><span class="emphasis"><em>EqDiameter </em></span></a><a name="d0e52182"></a>) will not be measured during the GPA run.</p><div class="note"><h3 class="title">Note</h3><p>All the following measurement options are optional and can be defined (added to the list) after clicking on <img src="../res/base/sign_add.png" height="12.5">.</p><p>Exclamation mark next to a measurement option indicates that the measurement is not set properly or some definition information is missing.</p></div></li><li class="listitem"><p>Segmentation - select a segmentation method used for finding the particles in the captured image. Enter the name of the particles in the first edit box and choose its color. Optionally add another (different) segmentation(s). Click <span class="guibutton">Segmentation Test</span> to pre-adjust the segmentation on the live image. To close the segmentation window, click on <span class="guibutton">Segmentation Test</span> again.</p><div class="variablelist"><dl><div class="varlistentry"><span class="term">Simple Intensity Threshold</span> <p>(<a class="link" href="node.segmentation_section.html#node.segmentation.threshold.simplethreshold"><span class="emphasis"><em>Segmentation &gt; Threshold &gt; Simple Threshold</em></span></a><a name="d0e52212"></a>)</p></div><div class="varlistentry"><span class="term">Intensity Threshold, </span><span class="term">RGB Threshold</span> <p>(<a class="link" href="node.segmentation_section.html#node.segmentation.threshold.rgbthreshold"><span class="emphasis"><em>Segmentation &gt; Threshold &gt; RGB Threshold</em></span></a><a name="d0e52227"></a>)</p></div><div class="varlistentry"><span class="term">Segment Objects.ai</span> <p><span>(<a class="xref" href="nis.ai.modalities.segment.objects.html">Segment Objects.ai</a>)</span> - click <span class="guibutton">...</span> and browse for the .oai file.</p></div></dl></div></li><li class="listitem"><p>Measurements - check the object or field <a class="link" href="GS_MeasurementFeatures.html">measurement features</a> to be measured.</p></li><li class="listitem"><p>Custom Measurements - create a custom measurement (simple expression or JavaScript function) with the use of features checked in the previous step. Click on a feature in the <span class="guilabel">Features</span> list to insert it into the equation area below and use the <span class="guilabel">Operators</span> on the right to build the equation. To change the name of the custom measurement, edit the name in the <span class="guilabel">Feature</span> edit box.</p><p>For example <span class="quote">‚Äú<span class="quote">Elongation = Max. Feret / Min. Feret</span>‚Äù</span>.</p></li><li class="listitem"><p>Classification - create particle classes. Each class with its unique name and color is based on an existing segmentation (or all of them) and an equation. Click on a feature in the <span class="guilabel">Measurements</span> list to insert it into the equation area below and use the <span class="guilabel">Operators</span> on the right to build the equation.</p><p>For example you have a thresholded binary layer. You can define a new classified binary and define a JavaScript which is called by the GPA for each object in the first thresholded binary layer. If the JavaScript returns <span class="quote">‚Äú<span class="quote">TRUE</span>‚Äù</span> then the object is moved to the new binary layer. E.g. <span class="quote">‚Äú<span class="quote">Max. Feret / Min. Feret &gt; 3</span>‚Äù</span>.</p></li><li class="listitem"><p>Histograms - add histogram(s) to the results. Click on <span class="guibutton"> <img src="../res/coregui/base/list_check.png" height="12.5"> </span> and select one feature used for drawing the histogram. Then choose the segmentation (for which binary layer the histogram is drawn) and histogram type from the drop-down menus. Additional histogram options are available after clicking on <img src="../res/base/base/settings.png" height="12.5"> <span> - see <a class="link" href="p2c11s5s13.html#node.results.graphs.barchart"><span class="emphasis"><em>Results &gt; Graphs &gt; Barchart</em></span></a><a name="d0e52299"></a> for details</span>.</p></li><li class="listitem"><p>Result Tables - add table(s) to the results. Click on <span class="guibutton"> <img src="../res/coregui/base/list_check.png" height="12.5"> </span> and select the features used in the results table. Select the segmentation, click <img src="../res/coregui/base/sort_feature_asc.png" height="12.5"> to select a data sorting feature. Then choose whether the sorting will be ascending (<span class="guilabel">Asc</span>) or descending (<span class="guilabel">Desc</span>) and choose how many first rows of the table are shown first. Then click on the <span class="guilabel"> <img src="../res/coregui/base/table.png" height="12.5"> Show result data</span> and/or <span class="guilabel"> <img src="../res/coregui/base/suma_file.png" height="12.5"> Show statistics</span> buttons to highlight them ensuring that they are shown after the measurement.</p></li><li class="listitem"><p>Limits - create histogram or table feature limits evaluating the sample whether it is correct or not. Use the <span class="guibutton">Equation...</span> button to create the limits. Click on a feature in the <span class="guilabel">Features</span> list to insert it into the equation area below and use the <span class="guilabel">Operators</span> on the right to build the equation. Optionally change the naming for the values that <span class="guilabel">passed</span> or <span class="guilabel">failed</span> the set limits. To change the name of the limit, edit the name in the <span class="guilabel">Limit</span> edit box.</p><p>For example in the histogram biggest particles class if there is less than 6 particles, then the sample is all right.</p></li></ol></div><div class="orderedlist"><p class="title"><b>Inspection</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>You can optionally add Inspection step(s) to verify the proper object segmentation when the measurement is done. Click on <img src="../res/base/sign_add.png" height="12.5"> to create a new inspection step.</p></li><li class="listitem"><p>Select a segmentation layer with objects to be inspected.</p></li><li class="listitem"><p>Choose an object feature to sort.</p></li><li class="listitem"><p>Select the number of objects which will be manually inspected.</p></li><li class="listitem"><p>Choose whether these objects are smallest or biggest.</p></li></ol></div><div class="orderedlist"><p class="title"><b>Report</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>Results acquired by the measurement can be organized and presented in a report. Click on <img src="../res/base/sign_add.png" height="12.5"> to create a new <span class="guilabel">report template</span>.</p></li><li class="listitem"><p>Give the report template a name in the first field.</p></li><li class="listitem"><p>Click <span class="guilabel"> <img src="../res/base/edit.png" height="12.5"> Edit...</span>. A blank page is shown.</p></li><li class="listitem"><p>Drag and drop report elements from the left tool bar into the <span class="guilabel">report preview</span> (white page area) to create a report layout.</p><p class="para">For more information about creating a report please see <a class="xref" href="sequencer.report.html">Report Editing</a>.</p></li><li class="listitem"><p>To open the report pdf file right after it is generated, highlight the <span class="guilabel"> <img src="../res/base/print.png" height="12.5"> Print on Finish</span> button by clicking on it.</p></li></ol></div><div class="note"><h3 class="title">Note</h3><p>Digital signature can be added to each report to sign the pdf file. Highlight the <span class="guilabel"> <img src="../res/coregui/base/certificate.png" height="12.5"> Use Digital Signatures</span> button by clicking on it. See also <a class="xref" href="gpa.cfr.report.html">Data Integrity Report</a>.</p></div><p>Once all the <span class="guilabel">GPA Definition</span> tabs are set-up, click <span class="guibutton">Save</span> and <span class="guibutton">Close</span>, and you can run the definition - see <a class="xref" href="gpa.executing.recipe.html">Executing a recipe</a>.</p><p><b>Editing an existing recipe&nbsp;</b><br>A new entry with the given name is created in the <span class="guilabel">GPA Explorer</span> list when the GPA definition is saved. Select a recipe name in the <span class="guilabel">GPA Explorer</span> list and click <span class="guilabel"> <img src="../res/base/edit.png" height="12.5"> Edit</span>. If there is no recipe present, create a new one as described above.</p></div><div class="footer"><a href="http://www.laboratory-imaging.com" class="footer" target="_blank">Copyright 1991-2025 Laboratory Imaging s.r.o.</a></div><div style="height:30%;width:100%;"></div> </div> <!-- /#main --> </div> </div> </body> </html>
