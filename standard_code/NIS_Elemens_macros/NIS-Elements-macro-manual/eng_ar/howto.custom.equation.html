<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=" "> <title>Custom Equation | NIS-Elements</title> <link rel="stylesheet" type="text/css" href="../css/syntax.css"> <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css"> <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"> <link rel="stylesheet" type="text/css" href="../css/modern-business.css"> <link rel="stylesheet" type="text/css" href="../css/customstyles.css"> <link rel="stylesheet" type="text/css" href="../css/boxshadowproperties.css"> <link rel="stylesheet" type="text/css" href="../css/ekko-lightbox.min.css"> <link rel="stylesheet" type="text/css" href="../css/ne.css"> <script src="../js/jquery.min.js"></script> <script src="../js/jquery.cookie.min.js"></script> <script src="../js/jquery.navgoco.min.js"></script> <script src="../js/bootstrap.min.js"></script> <script src="../js/ekko-lightbox.min.js"></script> <script src="../js/lightbox.js"></script> <script src="../js/lim_help.js"></script> <script src="../js/jscopy.js"></script> <link rel="shortcut icon" href="../images/favicon_ne.ico""> <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml"> </head> <body> <!-- find project homepage --> <!-- Navigation --> <nav class="navbar navbar-inverse navbar-static-top"> <div class="container-fluid topnavlinks"> <ul class="nav navbar-nav navbar-left"> <!-- separate search window: --> <!--<li><a onclick='window.open("SearchWindow.html","Search","toolbar=0,location=0,directories=0,status=0,menubar=0,top=100,left=100,height=800,width=600");'><img src="images/zoomimage.svg" class="icon"/></a></li>--> <!-- embedded iframe search window: --> <li class="pull-right"> <a href="search.html?frompage=howto.custom.equation.html" id="searchButton" class="searchButton btn btn-primary" title="Search"> <img src="../images/zoomimage.svg" class="icon"/> </a> <div class="searchButtonWrapper"> </div> </li> <li> <a class="fa fa-lg navbar-brand" href="man.html" alt="NIS-Elements"> <img src="../images/logo_ne.svg"/> </a> </li> <!-- entries without drop-downs appear here --> <li><a href="man.html">User Manual</a></li> <li><a href="cr.html">Menu Commands</a></li> <li class="dropdown active"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Applications<b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="gpa.html">GPA</a></li> <li><a href="nis.ai.html">NIS.ai</a></li> <li><a href="measurement.3d.html">3D Measurement</a></li> <li><a href="analysis.modules.html">Bio Analysis Modules</a></li> <li><a href="app.concrete.html">Concrete</a></li> <li><a href="database.html">Database</a></li> <li><a href="app.deconvolution.html">Deconvolution</a></li> <li><a href="app.edf.html">Extended Depth of Focus</a></li> <li><a href="app.filters.html">Filter Particle Analysis</a></li> <li><a href="app.fret.html">FRET</a></li> <li><a href="app.ga3.html">General Analysis 3 </a></li> <li><a href="ug.hcajobs.html">HCA</a></li> <li><a href="app.hdr.html">HDR</a></li> <li><a href="GS_HowTo.IlluminationSequence.html">Illumination Sequence</a></li> <li><a href="ug.jobs.html">JOBS and HCA</a></li> <li><a href="app.layers.html">Layer Thickness Measurement</a></li> <li><a href="app.sequencer.html">Measurement Sequencer</a></li> <li><a href="app.metalo.castiron.html">Metalo - Cast Iron Analysis</a></li> <li><a href="app.metalo.grainsize.html">Metalo - Grain Size Analysis</a></li> <li><a href="app.nstorm.html">N-STORM</a></li> <li><a href="howto.triggeredacquisition.html">Triggered Acquisition</a></li> <li><a href="app.objectclassifier.html">Object Classifier</a></li> <li><a href="app.se.html">Smart Experiment</a></li> <li><a href="howto.tracking.html">Tracking</a></li> <li><a href="app.welds.html">Weld Measurement</a></li> </ul> </li> <li><a href="fr.html">Macro Functions</a></li> <!-- toggle sidebar button --> <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> --> </ul> </div> <!-- /.container --> </nav> <!-- Page Content --> <div class=""> <div id="main" class="fixedPage"> <!-- Sidebar Column --> <div class="fixedSidebar" id="tg-sb-sidebar"> <!--<p>--> <ul id="mysidebar" class="nav"> <li class="sidebarTitle">NIS-Elements AR </li> <li class="sidebarSub "> <a title="FRET" href="app.fret.html">FRET</a> </li> <li class=" hidearrow"><a title="Introduction to FRET" href="p2c10s1.html">Introduction to FRET</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Capturing FRET Image, FRET Calibration" href="fret.capture.html">Capturing FRET Image, FRET Calibration</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Creating FRET Image" href="fret.create.image.html">Creating FRET Image</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Creating FRET View" href="fret.create.view.html">Creating FRET View</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Ca 2+ Ion Concentration Measurement" href="option.CalciumCalibration.html">Ca 2+ Ion Concentration Measurement</a> <ul> </ul> </li> <li class=" hidearrow"><a title="FRET Example" href="p2c10s6.html">FRET Example</a> <ul> </ul> </li> <li class=" hidearrow"><a title="Ratio Experiment, Calcium Calibration" href="GS_HowTo.ratio.html">Ratio Experiment, Calcium Calibration</a> <ul> </ul> </li> <li class="active hidearrow"><a title="Custom Equation" href="howto.custom.equation.html">Custom Equation</a> <ul> </ul> </li> <!--if you aren't using the accordion, uncomment this block:--> <!--<p class="external"> <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a> </p>--> </ul> <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--> <script>$("li.active").parents('li').toggleClass("active");</script> </div> <!-- Content Column --> <div class="fixedContent" id="tg-sb-content"> <div id="invalidHash"></div> <div class="section page"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="howto.custom.equation"></a>Custom Equation<button class="xmlid" data-clipboard-text="id|howto.custom.equationx">üîó</button></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="howto.custom.equation.html#p2c10s8s1"><span class="emphasis"><em>Copy</em></span> image</a></span></dt><dt><span class="section"><a href="howto.custom.equation.html#p2c10s8s2"><span class="emphasis"><em>Inverted</em></span> image</a></span></dt><dt><span class="section"><a href="howto.custom.equation.html#p2c10s8s3"><span class="emphasis"><em>Gamma</em></span> image</a></span></dt><dt><span class="section"><a href="howto.custom.equation.html#p2c10s8s4"><span class="emphasis"><em>Difference</em></span> image</a></span></dt><dt><span class="section"><a href="howto.custom.equation.html#p2c10s8s5"><span class="emphasis"><em>Increasing intensity</em></span> image</a></span></dt></dl></div><p>Custom equations can be effectively used to enhance your captured / live images. To add a custom equation to a live image, run <a class="link" href="applications.menu.html#menu.applications.ratioca2fret.addnewequationviewonlive"><span class="emphasis"><em><img src="../assets/main_menu.png"> Applications &gt; Ratio, Ca2+, FRET &gt; Add New Equation View on Live</em></span></a><a name="d0e63756"></a>. The following sections show some common and useful custom equations.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c10s8s1"></a><span class="emphasis"><em>Copy</em></span> image<button class="xmlid" data-clipboard-text="id|p2c10s8s1x">üîó</button></h3></div></div></div><p>The equation <code class="code">Current</code> is just a simple copy of the current image / channel. Applying custom LUTs only to this image can help with the visualization.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_copy_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_copy_sample.png" alt="../img/eng/custom_equation_copy_sample.png image"></a><p class="title"><b>Figure&nbsp;675.&nbsp;</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c10s8s2"></a><span class="emphasis"><em>Inverted</em></span> image<button class="xmlid" data-clipboard-text="id|p2c10s8s2x">üîó</button></h3></div></div></div><p>Equation <code class="code">-Current</code> simply inverts the current image / channel. Often it is easier to see small details in the inverted mode.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_invert_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_invert_sample.png" alt="../img/eng/custom_equation_invert_sample.png image"></a><p class="title"><b>Figure&nbsp;676.&nbsp;</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c10s8s3"></a><span class="emphasis"><em>Gamma</em></span> image<button class="xmlid" data-clipboard-text="id|p2c10s8s3x">üîó</button></h3></div></div></div><p>Equation <code class="code">pow(Current,0.5)</code> can create a <span class="quote">‚Äú<span class="quote">gamma</span>‚Äù</span> image.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_gamma_expr.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_gamma_expr.png" alt="../img/eng/custom_equation_gamma_expr.png image"></a><p class="title"><b>Figure&nbsp;677.&nbsp;</b></p></div></div><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_gamma_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_gamma_sample.png" alt="../img/eng/custom_equation_gamma_sample.png image"></a><p class="title"><b>Figure&nbsp;678.&nbsp;</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c10s8s4"></a><span class="emphasis"><em>Difference</em></span> image<button class="xmlid" data-clipboard-text="id|p2c10s8s4x">üîó</button></h3></div></div></div><p>Equation <code class="code">Current-Previous</code> displays only moving objects in black and white colors. The distance moved per frame can be easily seen - white shows the current position and black is the previous position. Static objects are removed from the image.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_difference_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_difference_sample.png" alt="../img/eng/custom_equation_difference_sample.png image"></a><p class="title"><b>Figure&nbsp;679.&nbsp;</b></p></div></div><p>This equation can be modified to see only moving objects in white color: <code class="code">Average[+4..+6]-Average[+0..+3]</code>. Here average is used for image smoothing.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_difference_average_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_difference_average_sample.png" alt="../img/eng/custom_equation_difference_average_sample.png image"></a><p class="title"><b>Figure&nbsp;680.&nbsp;</b></p></div></div><p>Another way to hide static objects and display only the moving ones is to subtract average of all frames from the current frame. Use this equation: <code class="code">Current-Average</code>. This can also shade-correct the image in some cases.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_current-average_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_current-average_sample.png" alt="../img/eng/custom_equation_current-average_sample.png image"></a><p class="title"><b>Figure&nbsp;681.&nbsp;</b></p></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="p2c10s8s5"></a><span class="emphasis"><em>Increasing intensity</em></span> image<button class="xmlid" data-clipboard-text="id|p2c10s8s5x">üîó</button></h3></div></div></div><p>Maximum intensity projection that is increasing frame by frame can be used to visualize the movement of objects. Try the following equation: <code class="code">Maximum[-90..+0]</code>. <span class="guilabel">Range</span> should be set to <span class="guilabel">Relative</span>.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/custom_equation_mip_sample.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/custom_equation_mip_sample.png" alt="../img/eng/custom_equation_mip_sample.png image"></a><p class="title"><b>Figure&nbsp;682.&nbsp;</b></p></div></div></div></div><div class="footer"><a href="http://www.laboratory-imaging.com" class="footer" target="_blank">Copyright 1991-2025 Laboratory Imaging s.r.o.</a></div><div style="height:30%;width:100%;"></div> </div> <!-- /#main --> </div> </div> </body> </html>
