<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content=""> <meta name="keywords" content=" "> <title>Image Segmentation | NIS-Elements</title> <link rel="stylesheet" type="text/css" href="../css/syntax.css"> <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css"> <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"> <link rel="stylesheet" type="text/css" href="../css/modern-business.css"> <link rel="stylesheet" type="text/css" href="../css/customstyles.css"> <link rel="stylesheet" type="text/css" href="../css/boxshadowproperties.css"> <link rel="stylesheet" type="text/css" href="../css/ekko-lightbox.min.css"> <link rel="stylesheet" type="text/css" href="../css/ne.css"> <script src="../js/jquery.min.js"></script> <script src="../js/jquery.cookie.min.js"></script> <script src="../js/jquery.navgoco.min.js"></script> <script src="../js/bootstrap.min.js"></script> <script src="../js/ekko-lightbox.min.js"></script> <script src="../js/lightbox.js"></script> <script src="../js/lim_help.js"></script> <script src="../js/jscopy.js"></script> <link rel="shortcut icon" href="../images/favicon_ne.ico""> <link rel="alternate" type="application/rss+xml" title="" href="/feed.xml"> </head> <body> <!-- find project homepage --> <!-- Navigation --> <nav class="navbar navbar-inverse navbar-static-top"> <div class="container-fluid topnavlinks"> <ul class="nav navbar-nav navbar-left"> <!-- separate search window: --> <!--<li><a onclick='window.open("SearchWindow.html","Search","toolbar=0,location=0,directories=0,status=0,menubar=0,top=100,left=100,height=800,width=600");'><img src="images/zoomimage.svg" class="icon"/></a></li>--> <!-- embedded iframe search window: --> <li class="pull-right"> <a href="search.html?frompage=ug.segmentation.html" id="searchButton" class="searchButton btn btn-primary" title="Search"> <img src="../images/zoomimage.svg" class="icon"/> </a> <div class="searchButtonWrapper"> </div> </li> <li> <a class="fa fa-lg navbar-brand" href="man.html" alt="NIS-Elements"> <img src="../images/logo_ne.svg"/> </a> </li> <!-- entries without drop-downs appear here --> <li class="active"><a href="man.html">User Manual</a></li> <li><a href="cr.html">Menu Commands</a></li> <li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Applications<b class="caret"></b></a> <ul class="dropdown-menu"> <li><a href="gpa.html">GPA</a></li> <li><a href="nis.ai.html">NIS.ai</a></li> <li><a href="measurement.3d.html">3D Measurement</a></li> <li><a href="analysis.modules.html">Bio Analysis Modules</a></li> <li><a href="app.concrete.html">Concrete</a></li> <li><a href="database.html">Database</a></li> <li><a href="app.deconvolution.html">Deconvolution</a></li> <li><a href="app.edf.html">Extended Depth of Focus</a></li> <li><a href="app.filters.html">Filter Particle Analysis</a></li> <li><a href="app.fret.html">FRET</a></li> <li><a href="app.ga3.html">General Analysis 3 </a></li> <li><a href="ug.hcajobs.html">HCA</a></li> <li><a href="app.hdr.html">HDR</a></li> <li><a href="GS_HowTo.IlluminationSequence.html">Illumination Sequence</a></li> <li><a href="ug.jobs.html">JOBS and HCA</a></li> <li><a href="app.layers.html">Layer Thickness Measurement</a></li> <li><a href="app.sequencer.html">Measurement Sequencer</a></li> <li><a href="app.metalo.castiron.html">Metalo - Cast Iron Analysis</a></li> <li><a href="app.metalo.grainsize.html">Metalo - Grain Size Analysis</a></li> <li><a href="app.nstorm.html">N-STORM</a></li> <li><a href="howto.triggeredacquisition.html">Triggered Acquisition</a></li> <li><a href="app.objectclassifier.html">Object Classifier</a></li> <li><a href="app.se.html">Smart Experiment</a></li> <li><a href="howto.tracking.html">Tracking</a></li> <li><a href="app.welds.html">Weld Measurement</a></li> </ul> </li> <li><a href="fr.html">Macro Functions</a></li> <!-- toggle sidebar button --> <!-- <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li> --> </ul> </div> <!-- /.container --> </nav> <!-- Page Content --> <div class=""> <div id="main" class="fixedPage"> <!-- Sidebar Column --> <div class="fixedSidebar" id="tg-sb-sidebar"> <!--<p>--> <ul id="mysidebar" class="nav"> <li class="sidebarTitle">NIS-Elements AR </li> <li class=" "><a title="Startup" href="p1c1.html">Startup</a> <ul> <li><a title="Command Line Startup Options" href="GS_CommandLineOptions.html">Command Line Startup Options</a></li> </ul> </li> <li class=" "><a title="Installation and Settings" href="ug.startup.html">Installation and Settings</a> <ul> <li><a title="Installation and Updates" href="GS_Install.html">Installation and Updates</a></li> <li><a title="Additional Modules Available in NIS-Elements AR" href="reference.modules.html">Additional Modules Available in NIS-Elements AR</a></li> <li><a title="User Rights" href="GS_UserRights.html">User Rights</a></li> <li><a title="NIS-Elements Preferences" href="adjusting.preferences.html">NIS-Elements Preferences</a></li> <li><a title="NIS-Elements ER Package" href="nis.er.html">NIS-Elements ER Package</a></li> <li><a title="Hardware licences" href="hardware.licences.html">Hardware licences</a></li> </ul> </li> <li class=" "><a title="User Interface" href="ug.gui.html">User Interface</a> <ul> <li><a title="Introduction" href="p1c3s1.html">Introduction</a></li> <li><a title="Compact Layout" href="layout.compact.html">Compact Layout</a></li> <li><a title="Advanced Layout" href="layout.advanced.html">Advanced Layout</a></li> <li><a title="Modifying Layouts" href="GS_LayoutManager_layout.html">Modifying Layouts</a></li> <li><a title="Modifying Toolbars" href="modifying.toolbars.html">Modifying Toolbars</a></li> <li><a title="Modifying Menus" href="p1c3s6.html">Modifying Menus</a></li> <li><a title="Running a Macro Upon Layout Change" href="p1c3s7.html">Running a Macro Upon Layout Change</a></li> <li><a title="Appearance Options" href="options.appearance.html">Appearance Options</a></li> <li><a title="Quick Context Menu" href="QuickContextMenu.html">Quick Context Menu</a></li> <li><a title="Handy Key Shortcuts, Mouse Wheel Options" href="GS_Tips.html">Handy Key Shortcuts, Mouse Wheel Options</a></li> </ul> </li> <li class=" "><a title="Cameras &amp; Devices" href="ug.hwsetup.html">Cameras &amp; Devices</a> <ul> <li><a title="Device Manager" href="visual.device.manager.html">Device Manager</a></li> <li><a title="Objectives" href="GS_Objectives.html">Objectives</a></li> <li><a title="Control of Motorized Devices" href="p1c4s3.html">Control of Motorized Devices</a></li> <li><a title="Camera Settings" href="camera.settings.common.html">Camera Settings</a></li> <li><a title="Optical Configurations" href="GS_Calibration.html">Optical Configurations</a></li> <li><a title="Cameras" href="Mod_Cameras.html">Cameras</a></li> <li><a title="Microscopes" href="reference.devices.html">Microscopes</a></li> <li><a title="Confocal Microscopes" href="confocal.microscopes.html">Confocal Microscopes</a></li> <li><a title="Illumination Devices" href="reference.illuminators.html">Illumination Devices</a></li> <li><a title="Other Devices" href="reference.devices.other.html">Other Devices</a></li> <li><a title="Legacy Cameras and Devices" href="legacy.devices.html">Legacy Cameras and Devices</a></li> </ul> </li> <li class=" "><a title="Confocal Microscope AX" href="ax.html">Confocal Microscope AX</a> <ul> <li><a title="Introduction" href="p1c5s1.html">Introduction</a></li> <li><a title="Experiment Settings" href="ax.experiment.setup.html">Experiment Settings</a></li> <li><a title="Multichannel and Spectral Experiments" href="ax.multichannel.html">Multichannel and Spectral Experiments</a></li> <li><a title="Multiphoton Experiments" href="ax.multiphoton.html">Multiphoton Experiments</a></li> <li><a title="AX Pad" href="ax.pad.html">AX Pad</a></li> <li><a title="AX Scan Area" href="panel.ax.scan.area_section.html">AX Scan Area</a></li> <li><a title="Device Setup" href="ax.device.setup.html">Device Setup</a></li> <li><a title="AX + Ti2-E Automatic Correction Collar" href="p1c5s8.html">AX + Ti2-E Automatic Correction Collar</a></li> </ul> </li> <li class=" "><a title="Image Acquisition" href="GS_Capture.html">Image Acquisition</a> <ul> <li><a title="Experiment Acquisition" href="experiment.acquisition.html">Experiment Acquisition</a></li> <li><a title="Fast Acquisition Using Continuous Movement" href="continuous.movements.html">Fast Acquisition Using Continuous Movement</a></li> <li><a title="Camera ROI" href="roi.camera.html">Camera ROI</a></li> <li><a title="Shading Correction" href="shading.correction.html">Shading Correction</a></li> <li><a title="About ND Acquisition" href="GS_Capture_ND.html">About ND Acquisition</a></li> <li><a title="Time-lapse Acquisition" href="GS_Capture_Time.html">Time-lapse Acquisition</a></li> <li><a title="Multi-point Acquisition" href="GS_Capture_XY.html">Multi-point Acquisition</a></li> <li><a title="Z-series Acquisition" href="GS_Capture_Z.html">Z-series Acquisition</a></li> <li><a title="Multi-channel Acquisition" href="GS_Capture_Mch.html">Multi-channel Acquisition</a></li> <li><a title="Large-image Acquisition" href="GS_Capture_LargeImage.html">Large-image Acquisition</a></li> <li><a title="Inputs/Outputs Control" href="GS_Capture_ND.IO.html">Inputs/Outputs Control</a></li> <li><a title="Combined ND Acquisition" href="GS_ND2.acquisition.html">Combined ND Acquisition</a></li> <li><a title="Smart Acquisition Using JOBS" href="smart.acquisition.html">Smart Acquisition Using JOBS</a></li> <li><a title="Capturing to Ring Buffer" href="GS_Capture_RAM.html">Capturing to Ring Buffer</a></li> <li><a title="Stimulating and Photoactivating" href="howto.stimulation.html">Stimulating and Photoactivating</a></li> <li><a title="File Simulator Setup" href="HT_simulator.html">File Simulator Setup</a></li> </ul> </li> <li class=" "><a title="Displaying Images" href="ug.images.html">Displaying Images</a> <ul> <li><a title="Open, Save, Close Images" href="open.save.close.html">Open, Save, Close Images</a></li> <li><a title="Supported File Formats" href="image.formats.html">Supported File Formats</a></li> <li><a title="Image Layers" href="GS_DocumentStructure.html">Image Layers</a></li> <li><a title="ND Dimensions" href="nd.dimensions.html">ND Dimensions</a></li> <li><a title="Volume Viewer" href="volume.viewer.html">Volume Viewer</a></li> <li><a title="Large Images" href="p1c7s6.html">Large Images</a></li> <li><a title="LUTs - Non-destructive Image Enhancement" href="GS_LUTs.html">LUTs - Non-destructive Image Enhancement</a></li> <li><a title="Organizer" href="GS_OrganizerLayout.html">Organizer</a></li> </ul> </li> <li class=" "><a title="Image Analysis" href="GS_ImageAnalysis.html">Image Analysis</a> <ul> <li><a title="Preparation" href="p1c8s1.html">Preparation</a></li> <li class="active"><a title="Image Segmentation" href="ug.segmentation.html">Image Segmentation</a></li> <li><a title="Binary Layers" href="binary.layers.html">Binary Layers</a></li> <li><a title="Regions of Interest - ROIs" href="rois.html">Regions of Interest - ROIs</a></li> </ul> </li> <li class=" "><a title="Measurement" href="ug.measurement.html">Measurement</a> <ul> <li><a title="Calibration" href="calibration.html">Calibration</a></li> <li><a title="Indicative Measurement" href="indicative.measurement.html">Indicative Measurement</a></li> <li><a title="Object Count" href="objectcount.html">Object Count</a></li> <li><a title="Measurement Options" href="options.measurement.html">Measurement Options</a></li> <li><a title="Measurement on Graph" href="measure.on.graph.html">Measurement on Graph</a></li> <li><a title="Pixel Classifier" href="p1c9s6.html">Pixel Classifier</a></li> <li><a title="Manual Measurement" href="p1c9s7.html">Manual Measurement</a></li> <li><a title="Automated Measurement" href="GS_Measurement_Auto.html">Automated Measurement</a></li> <li><a title="Time Measurement" href="timemeas.html">Time Measurement</a></li> <li><a title="Measurement Features" href="GS_MeasurementFeatures.html">Measurement Features</a></li> <li><a title="Exporting Results" href="GS_Export.html">Exporting Results</a></li> <li><a title="Creating Reports" href="GS_ReportGenerator.html">Creating Reports</a></li> </ul> </li> <li class=" "><a title="Macros" href="GS_Macros.html">Macros</a> <ul> <li><a title="Creating Macros" href="creating.macros.html">Creating Macros</a></li> <li><a title="Running a Macro" href="p1c10s2.html">Running a Macro</a></li> <li><a title="Macro Language Syntax" href="GS_MacroLanguageDefinition.html">Macro Language Syntax</a></li> <li><a title="Controlling Cameras by Macro" href="Mod_Cameras.CameraXet.html">Controlling Cameras by Macro</a></li> <li><a title="Macro Preferences" href="options.macro.html">Macro Preferences</a></li> </ul> </li> <li class=" "><a title="Movies" href="GS_Movie.html">Movies</a> <ul> <li><a title="Capturing AVI Movie" href="GS_Movie.AVI.html">Capturing AVI Movie</a></li> <li><a title="Save ND2 as AVI" href="save.as.avi.html">Save ND2 as AVI</a></li> <li><a title="Creating a Movie from EDF Surface View" href="GS_Movie.moviemaker.html">Creating a Movie from EDF Surface View</a></li> <li><a title="Creating a Movie from Volume View" href="GS_Movie.moviemaker.block.html">Creating a Movie from Volume View</a></li> <li><a title="About Video Compression" href="video.compression.html">About Video Compression</a></li> </ul> </li> <li class=" "><a title="Troubleshooting" href="howto.troubleshooting.html">Troubleshooting</a> <ul> <li><a title="How to send LOG files" href="p1c12s1.html">How to send LOG files</a></li> <li><a title="Determining COM port numbers" href="p1c12s2.html">Determining COM port numbers</a></li> <li><a title="HP Z440/Z840 Power Management" href="troubleshooting_cstate.html">HP Z440/Z840 Power Management</a></li> </ul> </li> <!--if you aren't using the accordion, uncomment this block:--> <!--<p class="external"> <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a> </p>--> </ul> <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.--> <script>$("li.active").parents('li').toggleClass("active");</script> </div> <!-- Content Column --> <div class="fixedContent" id="tg-sb-content"> <div id="invalidHash"></div> <div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ug.segmentation"></a>Image Segmentation<button class="xmlid" data-clipboard-text="id|ug.segmentationx">üîó</button></h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ug.segmentation.html#GS_Threshold">Thresholding</a></span></dt><dt><span class="section"><a href="ug.segmentation.html#spot.detection">Spot Detection</a></span></dt></dl></div><div class="section page"><div class="titlepage"><div><div><h3 class="title"><a name="GS_Threshold"></a>Thresholding<button class="xmlid" data-clipboard-text="id|GS_Thresholdx">üîó</button></h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ug.segmentation.html#p1c8s2s1s1">A Basic Way to Threshold an Image</a></span></dt><dt><span class="section"><a href="ug.segmentation.html#threshold.color.space">Color Modes</a></span></dt><dt><span class="section"><a href="ug.segmentation.html#p1c8s2s1s3">Thresholding Tools</a></span></dt><dt><span class="section"><a href="ug.segmentation.html#p1c8s2s1s4">Example Procedure</a></span></dt><dt><span class="section"><a href="ug.segmentation.html#threshold.tricks">Tips and Tricks</a></span></dt></dl></div><p></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="p1c8s2s1s1"></a>A Basic Way to Threshold an Image<button class="xmlid" data-clipboard-text="id|p1c8s2s1s1x">üîó</button></h4></div></div></div><div class="procedure"><p>Specifying correct threshold limits is a crucial procedure of the automated image analysis. The point is to determine which pixels will and which will not be included in the binary layer and thereby distinguish objects to be analyzed from background. Thresholding can be performed in the following modes:</p><ol class="procedure" type="1"><li class="step"><p>Open or capture the image to be thresholded.</p></li><li class="step"><p>Run the <a class="link" href="view.menu.html#menu.view.analysiscontrols.thresholding"><span class="emphasis"><em><img src="../assets/main_menu.png"> View &gt; Analysis Controls &gt; Thresholding <img src="../res/base/threshold.png"></em></span></a><a name="d0e37738"></a> command to display the <span class="guilabel">Thresholding</span> panel:</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/thresholds.png" title="" data-title="Thresholding panel "><img class="img-responsive" src="../img/eng/thresholds.png" alt="../img/eng/thresholds.png image"></a><p class="title"><b>Figure&nbsp;355.&nbsp;Thresholding panel</b></p></div></div></li><li class="step"><p>In the top toolbar, select the color mode which will be used for thresholding. According to the type of image opened, the following modes could be available: <span class="guilabel">RGB</span>, <span class="guilabel">HSI</span>, <span class="guilabel">Intensity</span> and <span class="guilabel">MCH</span>. See <a class="xref" href="ug.segmentation.html#threshold.color.space">Color Modes</a>.</p></li><li class="step"><p>Select one of the pixel-picking tools (e.g. <img src="../res/base/pick_1.png" height="12.5">) and start clicking on objects in the image you want to detect. Color values of each of the clicked pixel(s) are used to adjust the low and the high threshold values so that the clicked pixel would stay inside the thresholded interval.</p><p>Apart from this <span class="quote">‚Äú<span class="quote">clicking</span>‚Äù</span> method, the thresholds can be adjusted directly within the histogram by dragging the vertical lines which highlight the thresholded interval.</p></li><li class="step"><p>All pixels having their numeric values inside the thresholded interval become a part of the resulting binary layer.</p></li><li class="step"><p>Very often, also other binary objects appear in the image which you did not intend to detect, for example dust particles with intensity similar to the specimen, etc. To eliminate these mis-detected object, use one or more tools available at the bottom of the panel. You can either apply some morphology functions to the binary layer or apply size or circularity restrictions to detected objects. See <a class="xref" href="ug.segmentation.html#threshold.tricks">Tips and Tricks</a>.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="threshold.color.space"></a>Color Modes<button class="xmlid" data-clipboard-text="id|threshold.color.spacex">üîó</button></h4></div></div></div><div class="variablelist"><dl><div class="varlistentry"><span class="term">RGB</span> <p>The <span class="guilabel">RGB</span> thresholding mode is available only if an RGB image is opened. There are two ways how to define the threshold limits, by choosing reference points within the image, or by defining the limit values for each color channel.</p></div><div class="varlistentry"><span class="term">HSI</span> <p>The <span class="guilabel">HSI</span> thresholding mode is available only if an RGB image is opened. The thresholding procedure works the same way as in the RGB mode except that the pixel values are displayed in the HSI (Hue, Saturation, Intensity) color space and that the <span class="guilabel">Saturation</span> and <span class="guilabel">Intensity</span> channels can be switched OFF. Therefore you can threshold over the <span class="emphasis"><em>H</em></span>, <span class="emphasis"><em>HS</em></span>, or <span class="emphasis"><em>HI</em></span> channels only. Switch the channel off by deselecting the check box in the top-left corner of the channel histogram.</p></div><div class="varlistentry"><span class="term">Per channel</span> <p>In this mode, the channels are handled separately, a binary layer is created for each channel and also, the binary processing functions (<span class="guilabel">Smooth</span>, ...) can be adjusted differently for each channel. Switch between the channels by selecting their names in the bottom pull-down menu.</p><p>This mode is dedicated to perform threshold on multichannel images, but can be applied to RGB images as well. It is not available when working with a monochromatic (single channel) image.</p></div><div class="varlistentry"><span class="term">Intensity</span> <p>The thresholding procedure works the same way as in the RGB mode except that it is performed on the intensity pixel values.</p></div></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="p1c8s2s1s3"></a>Thresholding Tools<button class="xmlid" data-clipboard-text="id|p1c8s2s1s3x">üîó</button></h4></div></div></div><div class="variablelist reference"><dl><div class="varlistentry"><span class="term"><img src="../res/base/reset.png" height="12.5">Reset</span> <p>This button erases the threshold settings (no binary objects are created).</p></div><div class="varlistentry"><span class="term"><img src="../res/base/pick_1.png" height="12.5">Pick threshold from image - single pixel</span> <p>Select it and click inside the image to define the threshold. The threshold ranges will be adjusted so the selected pixel will fit inside.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/pick_3.png" height="12.5">Pick threshold from image - 3 point circle</span> <p>Picks threshold from the radius of 3 pixels.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/pick_6.png" height="12.5">Pick threshold from image - 6 point circle</span> <p>Picks threshold from the radius of 6 pixels.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/undo.png" height="12.5">Undo</span> <p>Reverses the previous threshold operation.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/redo.png" height="12.5">Redo</span> <p>Returns the threshold as it had been before the <span class="guilabel">Undo</span> button was used.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/ro_roi.png" height="12.5">Full Image/Use ROI</span> <p>If selected, threshold is defined only on the area of the Region Of Interest.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/save_context.png" height="12.5"> Save/Load Threshold Settings</span> <p>This button invokes a pull-down menu which enables the user to load/save the current threshold settings from/to an external file (*.threshold).</p></div><div class="varlistentry"><span class="term"><img src="../res/base/zoomin.png" height="12.5"> <img src="../res/base/zoomout.png" height="12.5">Zoom</span> <p>Zoom the histogram in/out.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/zoomfit.png" height="12.5">Auto Zoom</span> <p>Zooms the histogram to fit the preview window.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/range_auto_h.png" height="12.5">Auto Range</span> <p>Zooms the histogram so that the <span class="quote">‚Äú<span class="quote">high</span>‚Äù</span> and <span class="quote">‚Äú<span class="quote">low</span>‚Äù</span> threshold lines are distinguishable. For example, if a small intensity range is defined on a 16bit image the low and high lines are displayed as one-pixel line. Pressing this button will stretch the histogram in order to display the lines separately.</p></div></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="p1c8s2s1s4"></a>Example Procedure<button class="xmlid" data-clipboard-text="id|p1c8s2s1s4x">üîó</button></h4></div></div></div><p></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Threshold the image using the <span class="guilabel">Intensity </span>measurement option in the <span class="guilabel">Thresholding</span> control panel.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/howto/thr_threshold.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/howto/thr_threshold.png" alt="../img/eng/howto/thr_threshold.png image"></a><p class="title"><b>Figure&nbsp;356.&nbsp;</b></p></div></div></li><li class="listitem"><p><span class="guilabel">Clean</span> the image to remove detected small non-nuclei areas.</p></li><li class="listitem"><p>Select features to be measured in the <span class="guilabel">Automated Measurement Results</span> control panel. Press the <span class="guilabel">Options</span> button and choose the <span class="guilabel">Select Object Features</span> command. An <span class="guilabel">Object Measurement Setup</span> window appears. Add or remove features you want to measure.</p></li><li class="listitem"><p>Press the <img src="../res/base/updatere.png" height="12.5"> <span class="guilabel">Update measurement</span> button in the <span class="guilabel">Automated Measurement Results</span> control panel to measure image features. Overview the results. Press the <span class="guilabel">Store Data</span> button to save the data for future reference.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/howto/thr_measure.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/howto/thr_measure.png" alt="../img/eng/howto/thr_measure.png image"></a><p class="title"><b>Figure&nbsp;357.&nbsp;</b></p></div></div></li><li class="listitem"><p>Right click the <img src="../res/base/ro_roi.png" height="12.5"> <span class="guilabel">Turn ROI On/Off</span> button in the right document toolbar. Choose the <a class="link" href="roi.menu.html#menu.roi.movebinarytoroi"><span class="emphasis"><em><img src="../assets/main_menu.png"> ROI &gt; Move Binary to ROI</em></span></a><a name="d0e38004"></a> command. Each binary object turns into separate ROI.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/howto/thr_roi.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/howto/thr_roi.png" alt="../img/eng/howto/thr_roi.png image"></a><p class="title"><b>Figure&nbsp;358.&nbsp;</b></p></div></div></li><li class="listitem"><p>Threshold the cell nucleoli in the nuclei the same way as was already described above using the <span class="guilabel">Thresholding</span> control panel.</p></li><li class="listitem"><p>Measure the thresholded nucleoli using the <img src="../res/base/updatere.png" height="12.5"> <span class="guilabel">Update measurement</span> button in the <span class="guilabel">Automated measurement Results</span> control panel. Press the <span class="guilabel">Store Data</span> button to save the data.</p></li><li class="listitem"><p>Group results per ROI: drag the title of the column called RoiID into the grey area above the columns. You can drag and drop any combination of features as well. Results always group according to such selected features.</p></li><li class="listitem"><p>Turn on the graph using the <img src="../res/base/meas_showhisto.png" height="12.5"> <span class="guilabel">Show Histogram</span> button.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/howto/thr_group.png" title="" data-title=" "><img class="img-responsive" src="../img/eng/howto/thr_group.png" alt="../img/eng/howto/thr_group.png image"></a><p class="title"><b>Figure&nbsp;359.&nbsp;</b></p></div></div><p>The histogram displays the selected feature of interest. If you want to display different feature - press the right mouse button over the data table on the left and open the <span class="guilabel">Feature of Interest</span> submenu. Select another feature. The histogram recalculates automatically.</p></li><li class="listitem"><p>To get the information about area percentage, select the <span class="guilabel">Field measurement</span> option in the top toolbar of the <span class="guilabel">Automated measurement Results</span> control panel.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/howto/thr_field.png" title="" data-title="Example "><img class="img-responsive" src="../img/eng/howto/thr_field.png" alt="../img/eng/howto/thr_field.png image"></a><p class="title"><b>Figure&nbsp;360.&nbsp;Example</b></p></div></div><p>Field 1 displays results of measurement when measured without ROI. That means % of nucleoli in the entire image.</p><p>Field 2 displays results of measurement when measure with ROI on. That means % of nucleoli within the nuclei.</p></li><li class="listitem"><p>You can export the result to various locations using the <span class="guilabel">Export</span> command.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="threshold.tricks"></a>Tips and Tricks<button class="xmlid" data-clipboard-text="id|threshold.tricksx">üîó</button></h4></div></div></div><div class="itemizedlist"><p class="title"><b>Threshold Adjustments</b></p><p>Thresholding parameters can be adjusted very precisely in the following way:</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>Threshold limits of each channel can be adjusted by rewriting the values in the top-left/top-right corner of each channel histogram.</p></li><li class="listitem"><p>Threshold range of each channel (the colored stripe) can be shifted by mouse. Place the cursor in the middle of the range (a circle appears) and drag it left or right.</p></li><li class="listitem"><p>Threshold limits of each channel can be adjusted by mouse. Place the cursor on the edge of the thresholding range and drag it left or right.</p></li></ul></div><div class="itemizedlist"><p>The two last behaviors can be further modified by pressing additional keys:</p><ul class="itemizedlist" type="disc"><li class="listitem"><p>Move the threshold using the right mouse button - the binary layer in the image is not updated continuously, but is updated only once after the mouse button is released. Such operation saves some computing and therefore is quicker.</p></li><li class="listitem"><p>Hold <span class="keycap"><strong>Shift</strong></span> while moving the threshold limits - the threshold adjustment is performed on all channels together (RGB images only).</p></li><li class="listitem"><p>Hold <span class="keycap"><strong>Ctrl</strong></span> while moving the threshold limits - both the low and the high threshold limits move in opposite directions.</p></li></ul></div><div class="variablelist reference"><p class="title"><b>Binary Operations</b></p><p>Four basic operations can be performed on the binary layer before it is displayed on screen. To turn the operation on, click on the up arrow button in order to define the number of its iterations:</p><dl><div class="varlistentry"><span class="term">Clean</span> <p>Removes small objects from binary image.</p></div><div class="varlistentry"><span class="term">Smooth</span> <p>Smooths the binary image contours.</p></div><div class="varlistentry"><span class="term">Fill Holes</span> <p>Fills holes within binary objects.</p></div><div class="varlistentry"><span class="term">Separate</span> <p>Separates objects.</p></div></dl></div><div class="variablelist reference"><p class="title"><b>Restrictions</b></p><dl><div class="varlistentry"><span class="term">Size</span> <p>Define size range using min/max value in the edit boxes or using the slider.</p></div><div class="varlistentry"><span class="term">Circularity</span> <p>Define circularity range using min/max value in the edit boxes or using the slider.</p></div></dl></div><p><b>Thresholding Large Images&nbsp;</b><br>If thresholding images larger than 5000 x 5000 pixels, a new check box called <span class="guilabel">Preview on selected area only</span> is displayed. This feature displays the threshold preview just on a limited area to speed up the thresholding adjustment.</p><p><b>Changing Appearance of the Binary Layer&nbsp;</b><br>To change the color or transparency of the layer, right-click the <img src="../res/base/overlay.png" height="12.5"> <span class="guilabel">Overlay</span> button in the right image toolbar. A contextual menu appears, where you can select one of the predefined transparency levels, or run the <span class="guilabel">Colorize Binary Objects</span> command. This command displays the binary objects in several different colors. The algorithm ensures that two neighboring objects are never colored by similar colors.</p><p>See <a class="xref" href="binary.layers.html#GS_MathematicalMorphologyBasics">Mathematical Morphology Basics</a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="spot.detection"></a>Spot Detection<button class="xmlid" data-clipboard-text="id|spot.detectionx">üîó</button></h3></div></div></div><p>This function opens the <span class="guilabel">Spot Detection</span> dialog window. It is used mainly for detecting circular objects with similar sizes. Bright spot and dark spot detection methods are split into individual dialog windows.</p><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/spot_detection_typical_sample.png" title="" data-title="A typical, suitable sample for Spot Detection. "><img class="img-responsive" src="../img/spot_detection_typical_sample.png" alt="../img/spot_detection_typical_sample.png image"></a><p class="title"><b>Figure&nbsp;361.&nbsp;A typical, suitable sample for Spot Detection.</b></p></div></div><div class="procedure"><a name="howto.spot.circular.areas"></a><p class="title"><b>How to detect Circular Areas</b></p><ol class="procedure" type="1"><li class="step"><p>Open your image for the detection.</p></li><li class="step"><p>Select the proper detection method. For bright spots on a dark background run <span class="guilabel">Bright Spots</span>. For dark spots on a bright background run <span class="guilabel">Dark Spots</span>.</p></li><li class="step"><p>Make sure <span class="guilabel">Preview</span> is checked.</p></li><li class="step"><p>Select the <span class="guilabel">Channel</span> on which the detection will be performed.</p></li><li class="step"><p>Choose the <span class="guilabel">Clustered</span> or <span class="guilabel">Different Sizes</span> detection <span class="guilabel">Method</span> based on your image.</p></li><li class="step"><p>Adjust the <span class="guilabel">Typical Diameter</span> of the objects you want to detect so that they fit tightly inside the circles.</p></li><li class="step"><p>Remove unwanted objects by adjusting the <span class="guilabel">Contrast</span> value. When it is set to zero, all spots with the set diameter are detected. Once you raise the value, spots with the lowest contrast will start to disappear.</p></li><li class="step"><p>Optionally adjust the <span class="guilabel">Remove Dark Objects</span> slider to remove undesirable dark spots.</p></li><li class="step"><p>If you are satisfied with the object detection, choose where to apply the current settings (<span class="guilabel">Current Frame</span>, <span class="guilabel">All Frames</span> or a <span class="guilabel">Selection</span>) and click <span class="guibutton">OK</span>. Now you can save the new binary layer together with your file.</p><div class="note"><h3 class="title">Note</h3><p>Circular areas detected close to each other are automatically separated.</p></div><div class="sidebar"><div class="figure"><a data-toggle="lightbox" data-gallery="default" href="../img/eng/spot_detection_result_circle.png" title="" data-title="Circular Area output "><img class="img-responsive" src="../img/eng/spot_detection_result_circle.png" alt="../img/eng/spot_detection_result_circle.png image"></a><p class="title"><b>Figure&nbsp;362.&nbsp;Circular Area output</b></p></div></div><div class="note"><h3 class="title">Note</h3><p>To see the binary layers as shown in the image above, right-click the <img src="../res/base/overlay.png" height="12.5"> <span class="guilabel">View Overlay</span> icon on the Image window toolbar and select Transparency 100% or use <span class="keycap"><strong>Ctrl</strong></span>+up/down arrow keys.</p></div></li></ol></div><div class="procedure"><a name="d0e38289"></a><p class="title"><b>How to detect Spots</b></p><ol class="procedure" type="1"><li class="step"><p>Do steps 1-8 from the <a class="xref" href="ug.segmentation.html#howto.spot.circular.areas">How to detect Circular Areas</a> procedure.</p></li><li class="step"><p>Switch the <span class="guilabel">Output</span> from <span class="guilabel">Circular Area</span> to <span class="guilabel">Spot</span> and adjust the pixel size of the spots.</p></li><li class="step"><p>Choose where to apply the current settings (<span class="guilabel">Current Frame</span>, <span class="guilabel">All Frames</span> or a <span class="guilabel">Selection</span>) and click <span class="guibutton">OK</span>.</p></li></ol></div><div class="procedure"><a name="d0e38324"></a><p class="title"><b>How to detect Growing</b></p><ol class="procedure" type="1"><li class="step"><p>Do steps 1-8 from the <a class="xref" href="ug.segmentation.html#howto.spot.circular.areas">How to detect Circular Areas</a> procedure.</p></li><li class="step"><p>Check the <span class="guilabel">Growing</span> check box.</p></li><li class="step"><p>Adjust the slider position to augment/diminish the regions. Optionally use the <img src="../res/base/pick_1.png" height="12.5"> <span class="guilabel">Pick intensity</span> feature to grab the pixel intensity threshold directly from your image.</p></li><li class="step"><p>Choose where to apply the current settings (<span class="guilabel">Current Frame</span>, <span class="guilabel">All Frames</span> or a <span class="guilabel">Selection</span>) and click <span class="guibutton">OK</span>.</p></li></ol></div><div class="variablelist reference"><p class="title"><b>Spot Detection Options</b></p><dl><div class="varlistentry"><span class="term">Channel</span> <p>Select a channel on which you want to detect objects. If multichannel file is opened, spectral group selection is available.</p></div><div class="varlistentry"><span class="term">Method</span> <p>For <span class="guilabel">Bright Spots</span> detection choose <span class="guilabel"> <img src="../res/base/graph-log.png" height="12.5"> Bright, Clustered</span> detection method, if you want to detect clustered bright objects on a dark background, or <img src="../res/base/graph+gauss.png" height="12.5"> <span class="guilabel"> Bright, Different Sizes </span>for detecting differently sized bright objects on a dark background.</p><p>For <span class="guilabel">Dark Spots</span> detection choose <span class="guilabel"> <img src="../res/base/graph+log.png" height="12.5"> Dark, Clustered</span> detection method if your clustered objects are dark and their background is light or <span class="guilabel"> <img src="../res/base/graph-gauss.png" height="12.5"> Dark, Different Sizes</span> method if your objects have different sizes and your background is light.</p></div><div class="varlistentry"><span class="term">Output</span> <p>Binary output defines in which form the detected objects will be saved. <span class="guilabel">Circular Area</span> saves one circle for each detected spot whereas <span class="guilabel">Spot</span> saves a center point with a defined pixel size.</p></div><div class="varlistentry"><span class="term">Growing</span> <p>The <span class="guilabel">Growing</span> check box can be used to save grown regions with borders between adjacent spots. The function itself finds local threshold values for each of the spots detected. Therefore it matches the exact shape of the object. The numeric value represents image intensity degrees. <img src="../res/base/pick_1.png" height="12.5"> <span class="guilabel">Pick intensity</span> function can be used to get a reference pixel intensity from the picture by a single mouse click. Use the slider to adjust the <span class="guilabel">Growing</span> value.</p></div><div class="varlistentry"><span class="term">Typical Diameter</span> <p>Adjust the typical size of your objects using the slider or edit box.</p></div><div class="varlistentry"><span class="term">Contrast</span> <p>Adjust the contrast value of your spots using the slider or edit box.</p></div><div class="varlistentry"><span class="term">Object symmetry</span> <p>Can be used to add yet undetected/remove already detected spots based on their symmetry.</p></div><div class="varlistentry"><span class="term">Remove Dark Objects</span> <p>Check this option and adjust the position of the slider to exclude dark objects. The more left you move the slider, the more objects appear.</p></div><div class="varlistentry"><span class="term">Z-axis elongation</span> <p>Improves detection of 3D spots extended in the Z dimension. Select the Z-axis elongation ratio from the combo box.</p></div><div class="varlistentry"><span class="term">Separate touching spots</span> <p>Separates spots overlapping in the 3D space.</p></div><div class="varlistentry"><span class="term"><img src="../res/base/save.png" height="12.5"> Save/Load Configuration</span> <p>Saves/loads the settings of the <span class="guilabel">Spot Detection</span> dialog.</p></div><div class="varlistentry"><span class="term">OK</span> <p>Uses the actual settings for performing <span class="guilabel">Spot Detection</span>.</p></div><div class="varlistentry"><span class="term">Close</span> <p>Closes the <span class="guilabel">Spot Detection</span> window.</p></div><div class="varlistentry"><span class="term">Reset</span> <p>Resets all settings to default.</p></div><div class="varlistentry"><span class="term">Help</span> <p>Opens this help file.</p></div><div class="varlistentry"><span class="term">Preview</span> <p>Shows the changes directly on the actual frame of your opened image. Previewing progress is shown below this check box.</p></div></dl></div></div></div><div class="footer"><a href="http://www.laboratory-imaging.com" class="footer" target="_blank">Copyright 1991-2025 Laboratory Imaging s.r.o.</a></div><div style="height:30%;width:100%;"></div> </div> <!-- /#main --> </div> </div> </body> </html>
